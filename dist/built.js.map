{"version":3,"sources":["../concated/concated.js"],"names":["cache","tmpl","str","data","fn","test","document","getElementById","innerHTML","Function","replace","split","join","delay","timer","callback","ms","clearTimeout","setTimeout","alwaysTrue","unusedTags","name","filter","tag","getAttribute","includes","$","hasClass","removeTag","Array","from","getElementsByTagName","forEach","parentNode","removeChild","removeUnusedTags","html","tags","el","createElement","prop","getStyle","styleProp","value","style","length","currentStyle","window","getComputedStyle","defaultView","getDefaultComputedStyle","getPropertyValue","downloadAsTextFile","filename","text","element","setAttribute","encodeURIComponent","display","body","appendChild","click","Vvveb","undefined","defaultComponent","preservePropertySections","baseUrl","currentScript","src","ComponentsGroup","Components","_components","_nodesLookup","_attributesLookup","_classesLookup","_classesRegexLookup","init","url","get","type","add","nodes","i","attributes","constructor","classes","classesRegex","extend","inheritType","newData","inheritData","properties","merge","sort","a","b","matchNode","node","attr","component","j","regex","regexObj","RegExp","exec","tagName","toLowerCase","render","rightPanel","jQuery","section","find","append","key","header","beforeInit","Builder","selectedEl","property","input","on","event","child","parent","onChange","htmlAttr","oldValue","validValues","removeClass","addClass","css","Undo","addMutation","target","attributeName","newValue","selectNode","nodeElement","group","inputtype","setValue","indexOf","SectionInput","row","WysiwygEditor","isActive","doc","e","execCommand","preventDefault","undo","redo","edit","show","destroy","removeAttr","hide","dragMoveMutation","self","loadControlGroups","highlightEl","initCallback","documentFrame","canvas","_loadIframe","_initDragdrop","dragElement","componentsList","empty","componentsSubList","components","componentType","item","image","backgroundImage","backgroundRepeat","loadUrl","iframe","FrameWindow","contentWindow","FrameDocument","_frameLoaded","frameDoc","frameHtml","frameBody","_initHightlight","_getElementType","componentName","nodeName","loadNodeComponent","texteditEl","offset","top","scrollTop","left","scrollLeft","outerWidth","outerHeight","moveEvent","width","height","isDragging","parentOffset","hasAttribute","dragHtml","newElement","replaceWith","afterDrop","addedNodes","nextSibling","newParent","newNextSibling","isPreview","siblings","keydown","which","arrowKeyMove","oldParent","oldNextSibling","next","after","prev","before","clone","removedNodes","remove","$this","dragStart","elementMouseIsOver","elementFromPoint","clientX","clientY","trigger","stopPropagation","getBeautifiedHtml","getHtml","doctype","html_beautify","preserve_newlines","indent_inner_html","unformatted","publicId","systemId","documentElement","setHtml","start","end","slice","CodeEditor","val","keyup","toggle","shownPanel","hiddenPanel","Gui","each","dataset","vvvebOn","vvvebAction","vvvebShortcut","bind","check","modal","viewport","view","toggleEditor","toggleClass","download","preview","is","fullscreen","launchFullScreen","componentSearch","searchText","clearComponentSearch","FileManager","tree","pages","location","href","parents","reload","getPage","addPage","title","addPages","page","addComponent","showActive","loadPage","requestFullScreen","FullScreenElement","exitFullScreen","mozRequestFullScreen","mozFullScreenElement","mozCancelFullScreen","webkitRequestFullScreen","webkitFullscreenElement","webkitExitFullscreen","msRequestFullscreen","msFullScreenElement","msExitFullscreen","undos","mutations","undoIndex","enabled","mutation","splice","restore","insertBefore","sibling","removeAttribute","hasChanges","Input","renderTemplate","events","fun","TextInput","CheckboxInput","checked","SelectInput","LinkInput","RangeInput","NumberInput","CssUnitInput","number","unit","parseInt","ColorInput","rgb2hex","rgb","match","toString","FileUploadInput","RadioInput","RadioButtonInput","ToggleInput","ValueTextInput","GridLayoutInput","ProductsInput","GridInput","TextValueInput","ButtonInput","ListInput","bgcolorClasses","bgcolorSelectOptions","changeNodeName","newNodeName","newNode","len","nodeValue","contents","base_sort","inline","col","options","extraclass","icon","max","min","step","expanded","off","push","optionNode","option","hide_remove","_class","reg","columnNode","column","ready","isElementCreated","$element","draggableElements","querySelector","onload","interact","frames","setInteractables","context","draggable","inertia","restrict","restriction","endOnly","elementRect","bottom","right","autoScroll","onmove","appendTo","position","pageX","pageY","x","parseFloat","dx","y","dy","transform","onend"],"mappings":"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","file":"built.js","sourcesContent":["/*\r\nCopyright 2017 Ziadin Givan\r\n\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\n   http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n\r\nhttps://github.com/givan/VvvebJs\r\n*/\r\n\r\n\r\n// Simple JavaScript Templating\r\n// John Resig - https://johnresig.com/ - MIT Licensed\r\n(function () {\r\n\tvar cache = {};\r\n\r\n\tthis.tmpl = function tmpl(str, data) {\r\n\t\t// Figure out if we're getting a template, or if we need to\r\n\t\t// load the template - and be sure to cache the result.\r\n\t\tvar fn = /^[-a-zA-Z0-9]+$/.test(str) ?\r\n\t\t\tcache[str] = cache[str] ||\r\n\t\t\ttmpl(document.getElementById(str).innerHTML) :\r\n\r\n\t\t\t// Generate a reusable function that will serve as a template\r\n\t\t\t// generator (and which will be cached).\r\n\t\t\tnew Function(\"obj\",\r\n\t\t\t\t\"var p=[],print=function(){p.push.apply(p,arguments);};\" +\r\n\r\n\t\t\t\t// Introduce the data as local variables using with(){}\r\n\t\t\t\t\"with(obj){p.push('\" +\r\n\r\n\t\t\t\t// Convert the template into pure JavaScript\r\n\t\t\t\tstr\r\n\t\t\t\t\t.replace(/[\\r\\t\\n]/g, \" \")\r\n\t\t\t\t\t.split(\"{%\").join(\"\\t\")\r\n\t\t\t\t\t.replace(/((^|%})[^\\t]*)'/g, \"$1\\r\")\r\n\t\t\t\t\t.replace(/\\t=(.*?)%}/g, \"',$1,'\")\r\n\t\t\t\t\t.split(\"\\t\").join(\"');\")\r\n\t\t\t\t\t.split(\"%}\").join(\"p.push('\")\r\n\t\t\t\t\t.split(\"\\r\").join(\"\\\\'\")\r\n\t\t\t\t+ \"');}return p.join('');\");\r\n\t\t// Provide some basic currying to the user\r\n\t\treturn data ? fn(data) : fn;\r\n\t};\r\n})();\r\n\r\nvar delay = (function () {\r\n\tvar timer = 0;\r\n\treturn function (callback, ms) {\r\n\t\tclearTimeout(timer);\r\n\t\ttimer = setTimeout(callback, ms);\r\n\t};\r\n})();\r\n\r\nconst alwaysTrue = () => true;\r\n\r\nconst unusedTags = [\r\n\t// {\r\n\t// \tname: 'script'\r\n\t// },\r\n\t{\r\n\t\tname: 'link',\r\n\t\tfilter: tag => tag.getAttribute('rel') == 'stylesheet'\r\n\t\t\t&& tag.getAttribute('href').includes('drag-n-drop')\r\n\t},\r\n\t{\r\n\t\tname: 'hr',\r\n\t\tfilter: tag => $(tag).hasClass('horizontal-line')\r\n\t\t\t|| $(tag).hasClass('vertical-line')\r\n\t}\r\n];\r\n\r\n// this refers to html element\r\nfunction removeTag({ name, filter = alwaysTrue }) {\r\n\tArray.from(this.getElementsByTagName(name))\r\n\t\t.filter(filter)\r\n\t\t.forEach(tag => tag.parentNode.removeChild(tag));\r\n}\r\n\r\nfunction removeUnusedTags(html, tags) {\r\n\tconst el = document.createElement('html');\r\n\tel.innerHTML = html;\r\n\ttags.forEach(removeTag, el);\r\n\r\n\treturn $(el).prop('outerHTML');\r\n}\r\n\r\nfunction getStyle(el, styleProp) {\r\n\tvalue = \"\";\r\n\t//var el = document.getElementById(el);\r\n\tif (el.style && el.style.length > 0 && el.style[styleProp])//check inline\r\n\t\tvar value = el.style[styleProp];\r\n\telse\r\n\t\tif (el.currentStyle)\t//check defined css\r\n\t\t\tvar value = el.currentStyle[styleProp];\r\n\t\telse if (window.getComputedStyle) {\r\n\t\t\tvar value = document.defaultView.getDefaultComputedStyle ?\r\n\t\t\t\tdocument.defaultView.getDefaultComputedStyle(el, null).getPropertyValue(styleProp) :\r\n\t\t\t\twindow.getComputedStyle(el, null).getPropertyValue(styleProp);\r\n\t\t}\r\n\r\n\treturn value;\r\n}\r\n\r\nfunction downloadAsTextFile(filename, text) {\r\n\tconst element = document.createElement('a');\r\n\telement.setAttribute('href', `data:text/html;charset=utf-8,${encodeURIComponent(text)}`);\r\n\telement.setAttribute('download', filename);\r\n\r\n\telement.style.display = 'none';\r\n\tdocument.body.appendChild(element);\r\n\r\n\telement.click();\r\n\r\n\tdocument.body.removeChild(element);\r\n}\r\n\r\nif (Vvveb === undefined) var Vvveb = {};\r\n\r\nVvveb.defaultComponent = \"_base\";\r\nVvveb.preservePropertySections = true;\r\n\r\nVvveb.baseUrl = document.currentScript ? document.currentScript.src.replace(/[^\\/]*?\\.js$/, '') : '';\r\n\r\nVvveb.ComponentsGroup = {};\r\n\r\nVvveb.Components = {\r\n\r\n\t_components: {},\r\n\r\n\t_nodesLookup: {},\r\n\r\n\t_attributesLookup: {},\r\n\r\n\t_classesLookup: {},\r\n\r\n\t_classesRegexLookup: {},\r\n\r\n\tinit: function (url) {\r\n\t},\r\n\r\n\tget: function (type) {\r\n\t\treturn this._components[type];\r\n\t},\r\n\r\n\tadd: function (type, data) {\r\n\t\tdata.type = type;\r\n\r\n\t\tthis._components[type] = data;\r\n\r\n\t\tif (data.nodes) {\r\n\t\t\tfor (var i in data.nodes) {\r\n\t\t\t\tthis._nodesLookup[data.nodes[i]] = data;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (data.attributes) {\r\n\t\t\tif (data.attributes.constructor === Array) {\r\n\t\t\t\tfor (var i in data.attributes) {\r\n\t\t\t\t\tthis._attributesLookup[data.attributes[i]] = data;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (var i in data.attributes) {\r\n\t\t\t\t\tif (typeof this._attributesLookup[i] === 'undefined') {\r\n\t\t\t\t\t\tthis._attributesLookup[i] = {};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (typeof this._attributesLookup[i][data.attributes[i]] === 'undefined') {\r\n\t\t\t\t\t\tthis._attributesLookup[i][data.attributes[i]] = {};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis._attributesLookup[i][data.attributes[i]] = data;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (data.classes) {\r\n\t\t\tfor (var i in data.classes) {\r\n\t\t\t\tthis._classesLookup[data.classes[i]] = data;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (data.classesRegex) {\r\n\t\t\tfor (var i in data.classesRegex) {\r\n\t\t\t\tthis._classesRegexLookup[data.classesRegex[i]] = data;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\textend: function (inheritType, type, data) {\r\n\r\n\t\tnewData = data;\r\n\r\n\t\tif (inheritData = this._components[inheritType]) {\r\n\t\t\tnewData = $.extend(true, {}, inheritData, data);\r\n\t\t\tnewData.properties = $.merge($.merge([], inheritData.properties ? inheritData.properties : []), data.properties ? data.properties : []);\r\n\t\t}\r\n\r\n\t\t//sort by order\r\n\t\tnewData.properties.sort(function (a, b) {\r\n\t\t\tif (typeof a.sort === \"undefined\") a.sort = 0;\r\n\t\t\tif (typeof b.sort === \"undefined\") b.sort = 0;\r\n\r\n\t\t\tif (a.sort < b.sort)\r\n\t\t\t\treturn -1;\r\n\t\t\tif (a.sort > b.sort)\r\n\t\t\t\treturn 1;\r\n\t\t\treturn 0;\r\n\t\t});\r\n\r\n\r\n\t\tthis.add(type, newData);\r\n\t},\r\n\r\n\r\n\tmatchNode: function (node) {\r\n\r\n\t\tif (node.attributes.length) {\r\n\t\t\t//search for attributes\r\n\t\t\tfor (var i in node.attributes) {\r\n\t\t\t\tattr = node.attributes[i].name;\r\n\t\t\t\tvalue = node.attributes[i].value;\r\n\r\n\t\t\t\tif (attr in this._attributesLookup) {\r\n\t\t\t\t\tcomponent = this._attributesLookup[attr];\r\n\r\n\t\t\t\t\t//currently we check that is not a component by looking at name attribute\r\n\t\t\t\t\t//if we have a collection of objects it means that attribute value must be checked\r\n\t\t\t\t\tif (typeof component[\"name\"] === \"undefined\") {\r\n\t\t\t\t\t\tif (value in component) {\r\n\t\t\t\t\t\t\treturn component[value];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\treturn component;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i in node.attributes) {\r\n\t\t\t\tattr = node.attributes[i].name;\r\n\t\t\t\tvalue = node.attributes[i].value;\r\n\r\n\t\t\t\t//check for node classes\r\n\t\t\t\tif (attr == \"class\") {\r\n\t\t\t\t\tclasses = value.split(\" \");\r\n\r\n\t\t\t\t\tfor (j in classes) {\r\n\t\t\t\t\t\tif (classes[j] in this._classesLookup)\r\n\t\t\t\t\t\t\treturn this._classesLookup[classes[j]];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor (regex in this._classesRegexLookup) {\r\n\t\t\t\t\t\tregexObj = new RegExp(regex);\r\n\t\t\t\t\t\tif (regexObj.exec(value)) {\r\n\t\t\t\t\t\t\treturn this._classesRegexLookup[regex];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ttagName = node.tagName.toLowerCase();\r\n\t\tif (tagName in this._nodesLookup) return this._nodesLookup[tagName];\r\n\r\n\t\t//return false;\r\n\t\treturn this.get(Vvveb.defaultComponent);\r\n\t},\r\n\r\n\trender: function (type) {\r\n\r\n\t\tcomponent = this._components[type];\r\n\r\n\t\trightPanel = jQuery(\"#right-panel #component-properties\");\r\n\t\tsection = rightPanel.find('.section[data-section=\"default\"]');\r\n\r\n\t\tif (!(Vvveb.preservePropertySections && section.length)) {\r\n\t\t\trightPanel.html('').append(tmpl(\"vvveb-input-sectioninput\", { key: \"default\", header: component.name }));\r\n\t\t\tsection = rightPanel.find(\".section\");\r\n\t\t}\r\n\r\n\t\trightPanel.find('[data-header=\"default\"] span').html(component.name);\r\n\t\tsection.html(\"\")\r\n\r\n\t\tif (component.beforeInit) component.beforeInit(Vvveb.Builder.selectedEl.get(0));\r\n\r\n\t\tfn = function (component, property) {\r\n\t\t\treturn property.input.on('propertyChange', function (event, value, input) {\r\n\t\t\t\telement = Vvveb.Builder.selectedEl;\r\n\t\t\t\tif (property.child) element = element.find(property.child);\r\n\t\t\t\tif (property.parent) element = element.parent(property.parent);\r\n\r\n\t\t\t\tif (property.onChange) {\r\n\t\t\t\t\telement = property.onChange(element, value, input, component);\r\n\t\t\t\t} else if (property.htmlAttr) {\r\n\t\t\t\t\toldValue = element.attr(property.htmlAttr);\r\n\r\n\t\t\t\t\tif (property.htmlAttr == \"class\" && property.validValues) {\r\n\t\t\t\t\t\telement.removeClass(property.validValues.join(\" \"));\r\n\t\t\t\t\t\telement = element.addClass(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (property.htmlAttr == \"style\") {\r\n\t\t\t\t\t\telement = element.css(property.key, value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\telement = element.attr(property.htmlAttr, value);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tVvveb.Undo.addMutation({\r\n\t\t\t\t\t\ttype: 'attributes',\r\n\t\t\t\t\t\ttarget: element.get(0),\r\n\t\t\t\t\t\tattributeName: property.htmlAttr,\r\n\t\t\t\t\t\toldValue: oldValue,\r\n\t\t\t\t\t\tnewValue: element.attr(property.htmlAttr)\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (component.onChange) {\r\n\t\t\t\t\telement = component.onChange(element, property, value, input);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!property.child && !property.parent) Vvveb.Builder.selectNode(element);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tnodeElement = Vvveb.Builder.selectedEl;\r\n\r\n\t\tfor (var i in component.properties) {\r\n\t\t\tproperty = component.properties[i];\r\n\r\n\t\t\tif (property.beforeInit) property.beforeInit(element.get(0))\r\n\r\n\t\t\telement = nodeElement;\r\n\t\t\tif (property.child) element = element.find(property.child);\r\n\r\n\t\t\tif (property.data) {\r\n\t\t\t\tproperty.data[\"key\"] = property.key;\r\n\t\t\t} else {\r\n\t\t\t\tproperty.data = { \"key\": property.key };\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof property.group === 'undefined') property.group = null;\r\n\r\n\t\t\tproperty.input = property.inputtype.init(property.data);\r\n\r\n\t\t\tif (property.init) {\r\n\t\t\t\tproperty.inputtype.setValue(property.init(element.get(0)));\r\n\t\t\t} else if (property.htmlAttr) {\r\n\t\t\t\tif (property.htmlAttr == \"style\") {\r\n\t\t\t\t\t//value = element.css(property.key);//jquery css returns computed style\r\n\t\t\t\t\tvalue = getStyle(element.get(0), property.key);//getStyle returns declared style\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalue = element.attr(property.htmlAttr);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//if attribute is class check if one of valid values is included as class to set the select\r\n\t\t\t\tif (value && property.htmlAttr == \"class\" && property.validValues) {\r\n\t\t\t\t\tvalue = value.split(\" \").filter(function (el) {\r\n\t\t\t\t\t\treturn property.validValues.indexOf(el) != -1\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tproperty.inputtype.setValue(value);\r\n\t\t\t}\r\n\r\n\t\t\tfn(component, property);\r\n\r\n\t\t\tif (property.inputtype == SectionInput) {\r\n\t\t\t\tsection = rightPanel.find('.section[data-section=\"' + property.key + '\"]');\r\n\r\n\t\t\t\tif (Vvveb.preservePropertySections && section.length) {\r\n\t\t\t\t\tsection.html(\"\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\trightPanel.append(property.input);\r\n\t\t\t\t\tsection = rightPanel.find('.section[data-section=\"' + property.key + '\"]');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\trow = $(tmpl('vvveb-property', property));\r\n\t\t\t\trow.find('.input').append(property.input);\r\n\t\t\t\tsection.append(row);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (component.init) component.init(Vvveb.Builder.selectedEl.get(0));\r\n\t}\r\n};\r\n\r\n\r\n\r\nVvveb.WysiwygEditor = {\r\n\r\n\tisActive: false,\r\n\toldValue: '',\r\n\tdoc: false,\r\n\r\n\tinit: function (doc) {\r\n\t\tthis.doc = doc;\r\n\r\n\t\t$(\"#bold-btn\").on(\"click\", function (e) {\r\n\t\t\tdoc.execCommand('bold', false, null);\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#italic-btn\").on(\"click\", function (e) {\r\n\t\t\tdoc.execCommand('italic', false, null);\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#underline-btn\").on(\"click\", function (e) {\r\n\t\t\tdoc.execCommand('underline', false, null);\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#strike-btn\").on(\"click\", function (e) {\r\n\t\t\tdoc.execCommand('strikeThrough', false, null);\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#link-btn\").on(\"click\", function (e) {\r\n\t\t\tdoc.execCommand('createLink', false, \"#\");\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\t},\r\n\r\n\tundo: function (element) {\r\n\t\tthis.doc.execCommand('undo', false, null);\r\n\t},\r\n\r\n\tredo: function (element) {\r\n\t\tthis.doc.execCommand('redo', false, null);\r\n\t},\r\n\r\n\tedit: function (element) {\r\n\t\telement.attr({ 'contenteditable': true, 'spellcheckker': false });\r\n\t\t$(\"#wysiwyg-editor\").show();\r\n\r\n\t\tthis.element = element;\r\n\t\tthis.isActive = true;\r\n\t\tthis.oldValue = element.html();\r\n\t},\r\n\r\n\tdestroy: function (element) {\r\n\t\telement.removeAttr('contenteditable spellcheckker');\r\n\t\t$(\"#wysiwyg-editor\").hide();\r\n\t\tthis.isActive = false;\r\n\r\n\r\n\t\tnode = this.element.get(0);\r\n\t\tVvveb.Undo.addMutation({\r\n\t\t\ttype: 'characterData',\r\n\t\t\ttarget: node,\r\n\t\t\toldValue: this.oldValue,\r\n\t\t\tnewValue: node.innerHTML\r\n\t\t});\r\n\t}\r\n}\r\n\r\nVvveb.Builder = {\r\n\r\n\tdragMoveMutation: false,\r\n\r\n\tinit: function (url, callback) {\r\n\r\n\t\tself = this;\r\n\r\n\t\tself.loadControlGroups();\r\n\r\n\t\tself.selectedEl = null;\r\n\t\tself.highlightEl = null;\r\n\t\tself.initCallback = callback;\r\n\r\n\t\tself.documentFrame = $(\"#iframe-wrapper > iframe\");\r\n\t\tself.canvas = $(\"#canvas\");\r\n\r\n\t\tself._loadIframe(url);\r\n\r\n\t\tself._initDragdrop();\r\n\r\n\t\tself.dragElement = null;\r\n\t},\r\n\r\n\t/* controls */\r\n\tloadControlGroups: function () {\r\n\r\n\t\tcomponentsList = $(\"#components-list\");\r\n\t\tcomponentsList.empty();\r\n\r\n\t\tfor (group in Vvveb.ComponentsGroup) {\r\n\t\t\tcomponentsList.append('<li class=\"header\" data-section=\"' + group + '\"  data-search=\"\"><label class=\"header\" for=\"comphead_' + group + '\">' + group + '  <div class=\"header-arrow\"></div>\\\r\n\t\t\t\t\t\t\t\t   </label><input class=\"header_check\" type=\"checkbox\" checked=\"true\" id=\"comphead_' + group + '\">  <ol></ol></li>');\r\n\r\n\t\t\tcomponentsSubList = componentsList.find('li[data-section=\"' + group + '\"]  ol');\r\n\r\n\t\t\tcomponents = Vvveb.ComponentsGroup[group];\r\n\r\n\t\t\tfor (i in components) {\r\n\t\t\t\tcomponentType = components[i];\r\n\t\t\t\tcomponent = Vvveb.Components.get(componentType);\r\n\r\n\t\t\t\tif (component) {\r\n\t\t\t\t\titem = $('<li data-section=\"' + group + '\" data-type=\"' + componentType + '\" data-search=\"' + component.name.toLowerCase() + '\"><a href=\"#\">' + component.name + \"</a></li>\");\r\n\r\n\t\t\t\t\tif (component.image) {\r\n\r\n\t\t\t\t\t\titem.css({\r\n\t\t\t\t\t\t\tbackgroundImage: \"url(\" + 'libs/builder/' + component.image + \")\",\r\n\t\t\t\t\t\t\tbackgroundRepeat: \"no-repeat\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcomponentsSubList.append(item)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tloadUrl: function (url) {\r\n\t\tjQuery(\"#select-box\").hide();\r\n\t\tself.iframe.src = url;\r\n\t},\r\n\r\n\t/* iframe */\r\n\t_loadIframe: function (url) {\r\n\r\n\t\tself.iframe = this.documentFrame.get(0);\r\n\t\tself.iframe.src = url;\r\n\r\n\t\treturn this.documentFrame.on(\"load\", function () {\r\n\r\n\t\t\twindow.FrameWindow = self.iframe.contentWindow;\r\n\t\t\twindow.FrameDocument = self.iframe.contentWindow.document;\r\n\r\n\t\t\tVvveb.WysiwygEditor.init(window.FrameDocument);\r\n\t\t\tif (self.initCallback) self.initCallback();\r\n\r\n\t\t\treturn self._frameLoaded();\r\n\t\t});\r\n\r\n\t},\r\n\r\n\t_frameLoaded: function () {\r\n\r\n\t\tself.frameDoc = $(window.FrameDocument);\r\n\t\tself.frameHtml = $(window.FrameDocument).find(\"html\");\r\n\t\tself.frameBody = $(window.FrameDocument).find(\"body\");\r\n\r\n\t\tthis._initHightlight();\r\n\t},\r\n\r\n\t_getElementType: function (el) {\r\n\r\n\t\t//search for component attribute\r\n\t\tcomponentName = '';\r\n\r\n\t\tif (el.attributes)\r\n\t\t\tfor (var j = 0; j < el.attributes.length; j++) {\r\n\r\n\t\t\t\tif (el.attributes[j].nodeName.indexOf('data-component') > -1) {\r\n\t\t\t\t\tcomponentName = el.attributes[j].nodeName.replace('data-component-', '');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\tif (componentName != '') return componentName;\r\n\r\n\t\tif (el.attributes)\r\n\t\t\tfor (var j = 0; j < el.attributes.length; j++) {\r\n\r\n\t\t\t\tif (el.attributes[j].nodeName.indexOf('data-component') > -1) {\r\n\t\t\t\t\tcomponentName = el.attributes[j].nodeName.replace('data-component-', '');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\tif (componentName != '') return componentName;\r\n\t\t//if (className) return componentName;\r\n\t\treturn el.tagName;\r\n\t},\r\n\r\n\tloadNodeComponent: function (node) {\r\n\t\tdata = Vvveb.Components.matchNode(node);\r\n\t\tif (data) Vvveb.Components.render(data.type);\r\n\r\n\t},\r\n\r\n\tselectNode: function (node = false) {\r\n\r\n\t\tif (!node) {\r\n\t\t\tjQuery(\"#select-box\").hide();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (self.texteditEl && self.selectedEl.get(0) != node) {\r\n\t\t\tVvveb.WysiwygEditor.destroy(self.texteditEl);\r\n\t\t\tjQuery(\"#select-box\").removeClass(\"text-edit\").find(\"#select-actions\").show();\r\n\t\t\tself.texteditEl = null;\r\n\t\t}\r\n\r\n\t\tself.selectedEl = target = jQuery(node);\r\n\t\toffset = target.offset();\r\n\r\n\r\n\t\tjQuery(\"#select-box\").css(\r\n\t\t\t{\r\n\t\t\t\t\"top\": offset.top - self.frameDoc.scrollTop(),\r\n\t\t\t\t\"left\": offset.left - self.frameDoc.scrollLeft(),\r\n\t\t\t\t\"width\": target.outerWidth(),\r\n\t\t\t\t\"height\": target.outerHeight(),\r\n\t\t\t\t\"display\": \"block\",\r\n\t\t\t});\r\n\r\n\t\tjQuery(\"#highlight-name\").html(self._getElementType(node));\r\n\r\n\t},\r\n\r\n\t/* iframe highlight */\r\n\t_initHightlight: function () {\r\n\r\n\t\tmoveEvent = { target: null, };\r\n\r\n\t\tthis.frameBody.on(\"mousemove touchmove\", function (event) {\r\n\t\t\t//delay for half a second if dragging over same element\r\n\t\t\t// if (event.target == moveEvent.target && ((event.timeStamp - moveEvent.timeStamp) < 500)) return;\r\n\t\t\tif (event.target) {\r\n\t\t\t\tmoveEvent = event;\r\n\r\n\t\t\t\tself.highlightEl = target = jQuery(event.target);\r\n\t\t\t\toffset = target.offset();\r\n\t\t\t\twidth = target.outerWidth();\r\n\t\t\t\theight = target.outerHeight();\r\n\r\n\t\t\t\tif (self.isDragging) {\r\n\t\t\t\t\tself.dragElement.css({\r\n\t\t\t\t\t\tdisplay: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tparent = self.highlightEl;\r\n\t\t\t\t\tparentOffset = self.dragElement.offset();\r\n\t\t\t\t\t// try {\r\n\t\t\t\t\t// \tself.dragElement.css({\r\n\t\t\t\t\t// \t\tdisplay: 'none'\r\n\t\t\t\t\t// \t});\r\n\t\t\t\t\t// \tif (event.originalEvent && (offset.left > (event.originalEvent.x - 10))) {\r\n\t\t\t\t\t// \t\tif (offset.top > (event.originalEvent.y - 10)) {\r\n\t\t\t\t\t// \t\t\tparent.before(self.dragElement);\r\n\t\t\t\t\t// \t\t} else {\r\n\t\t\t\t\t// \t\t\tparent.prepend(self.dragElement);\r\n\t\t\t\t\t// \t\t\tself.dragElement.prependTo(parent);\r\n\t\t\t\t\t// \t\t}\r\n\t\t\t\t\t// \t} else {\r\n\t\t\t\t\t// \t\tif (event.originalEvent && offset.top > ((event.originalEvent.y - 10))) {\r\n\t\t\t\t\t// \t\t\tparent.before(self.dragElement);\r\n\t\t\t\t\t// \t\t} else {\r\n\t\t\t\t\t// \t\t\tparent.append(self.dragElement);\r\n\t\t\t\t\t// \t\t\tself.dragElement.appendTo(parent);\r\n\t\t\t\t\t// \t\t}\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// } catch (err) {\r\n\t\t\t\t\t// \tconsole.log(err);\r\n\t\t\t\t\t// }\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tjQuery(\"#highlight-box\").css(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"top\": offset.top - self.frameDoc.scrollTop(),\r\n\t\t\t\t\t\t\t\"left\": offset.left - self.frameDoc.scrollLeft(),\r\n\t\t\t\t\t\t\t\"width\": width,\r\n\t\t\t\t\t\t\t\"height\": height,\r\n\t\t\t\t\t\t\t\"display\": event.target.hasAttribute('contenteditable') ? \"none\" : \"block\"\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\tjQuery(\"#highlight-name\").html(self._getElementType(event.target));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\t\tthis.frameBody.on(\"mouseup touchend\", function (event) {\r\n\t\t\tif (self.isDragging) {\r\n\t\t\t\tself.isDragging = false;\r\n\r\n\t\t\t\tif (component.dragHtml) //if dragHtml is set for dragging then set real component html\r\n\t\t\t\t{\r\n\t\t\t\t\tnewElement = $(component.html);\r\n\t\t\t\t\tself.dragElement.replaceWith(newElement);\r\n\t\t\t\t\tself.dragElement = newElement;\r\n\t\t\t\t}\r\n\t\t\t\tif (component.afterDrop) self.dragElement = component.afterDrop(self.dragElement);\r\n\r\n\t\t\t\tnode = self.dragElement.get(0);\r\n\t\t\t\tself.selectNode(node);\r\n\t\t\t\tself.loadNodeComponent(node);\r\n\r\n\t\t\t\tif (self.dragMoveMutation === false) {\r\n\t\t\t\t\tVvveb.Undo.addMutation({\r\n\t\t\t\t\t\ttype: 'childList',\r\n\t\t\t\t\t\ttarget: node.parentNode,\r\n\t\t\t\t\t\taddedNodes: [node],\r\n\t\t\t\t\t\tnextSibling: node.nextSibling\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.dragMoveMutation.newParent = node.parentNode;\r\n\t\t\t\t\tself.dragMoveMutation.newNextSibling = node.nextSibling;\r\n\r\n\t\t\t\t\tVvveb.Undo.addMutation(self.dragMoveMutation);\r\n\t\t\t\t\tself.dragMoveMutation = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\t\tthis.frameBody.on(\"dblclick\", function (event) {\r\n\r\n\t\t\tself.texteditEl = target = jQuery(event.target);\r\n\r\n\t\t\tVvveb.WysiwygEditor.edit(self.texteditEl);\r\n\r\n\t\t\tself.texteditEl.attr({ 'contenteditable': true, 'spellcheckker': false });\r\n\r\n\t\t\tself.texteditEl.on(\"blur keyup paste input\", function (event) {\r\n\r\n\t\t\t\tjQuery(\"#select-box\").css({\r\n\t\t\t\t\t\"width\": self.texteditEl.outerWidth(),\r\n\t\t\t\t\t\"height\": self.texteditEl.outerHeight()\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tjQuery(\"#select-box\").addClass(\"text-edit\").find(\"#select-actions\").hide();\r\n\t\t\tjQuery(\"#highlight-box\").hide();\r\n\t\t});\r\n\r\n\r\n\t\tthis.frameBody.on(\"click\", function (event) {\r\n\t\t\tif (event.target) {\r\n\t\t\t\tif (!isPreview && !$('#attribute-settings').hasClass('active')) {\r\n\t\t\t\t\t$('#attribute-settings')\r\n\t\t\t\t\t\t.addClass('active')\r\n\t\t\t\t\t\t.siblings()\r\n\t\t\t\t\t\t.removeClass('active');\r\n\t\t\t\t\t$('#left-panel').hide();\r\n\t\t\t\t\t$('#right-panel').show();\r\n\t\t\t\t}\r\n\t\t\t\tself.selectNode(event.target);\r\n\t\t\t\tself.loadNodeComponent(event.target);\r\n\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.frameBody.keydown(e => {\r\n\t\t\tif (self.selectedEl && self.selectedEl.prop('tagName') != 'BODY') {\r\n\t\t\t\tif (e.which == 37 || e.which == 38 || e.which == 39 || e.which == 40) {\r\n\t\t\t\t\tdocument.getElementById('iframeId').contentWindow.arrowKeyMove(e.which, self.selectedEl);\r\n\t\t\t\t}\r\n\t\t\t\te.preventDefault(); // prevent the default action (scroll / move caret)\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$(\"#drag-box\").on(\"mousedown\", function (event) {\r\n\t\t\tjQuery(\"#select-box\").hide();\r\n\t\t\tself.dragElement = self.selectedEl;\r\n\t\t\tself.isDragging = true;\r\n\r\n\t\t\tnode = self.dragElement.get(0);\r\n\r\n\r\n\t\t\tself.dragMoveMutation = {\r\n\t\t\t\ttype: 'move',\r\n\t\t\t\ttarget: node,\r\n\t\t\t\toldParent: node.parentNode,\r\n\t\t\t\toldNextSibling: node.nextSibling\r\n\t\t\t};\r\n\r\n\t\t\t//self.selectNode(false);\r\n\t\t\tevent.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#down-box\").on(\"click\", function (event) {\r\n\t\t\tjQuery(\"#select-box\").hide();\r\n\r\n\t\t\tnode = self.selectedEl.get(0);\r\n\t\t\toldParent = node.parentNode;\r\n\t\t\toldNextSibling = node.nextSibling;\r\n\r\n\t\t\tnext = self.selectedEl.next();\r\n\r\n\t\t\tif (next.length > 0) {\r\n\t\t\t\tnext.after(self.selectedEl);\r\n\t\t\t} else {\r\n\t\t\t\tself.selectedEl.parent().after(self.selectedEl);\r\n\t\t\t}\r\n\r\n\t\t\tnewParent = node.parentNode;\r\n\t\t\tnewNextSibling = node.nextSibling;\r\n\r\n\t\t\tVvveb.Undo.addMutation({\r\n\t\t\t\ttype: 'move',\r\n\t\t\t\ttarget: node,\r\n\t\t\t\toldParent: oldParent,\r\n\t\t\t\tnewParent: newParent,\r\n\t\t\t\toldNextSibling: oldNextSibling,\r\n\t\t\t\tnewNextSibling: newNextSibling\r\n\t\t\t});\r\n\r\n\t\t\tevent.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#up-box\").on(\"click\", function (event) {\r\n\t\t\tjQuery(\"#select-box\").hide();\r\n\r\n\t\t\tnode = self.selectedEl.get(0);\r\n\t\t\toldParent = node.parentNode;\r\n\t\t\toldNextSibling = node.nextSibling;\r\n\r\n\t\t\tnext = self.selectedEl.prev();\r\n\r\n\t\t\tif (next.length > 0) {\r\n\t\t\t\tnext.before(self.selectedEl);\r\n\t\t\t} else {\r\n\t\t\t\tself.selectedEl.parent().before(self.selectedEl);\r\n\t\t\t}\r\n\r\n\t\t\tnewParent = node.parentNode;\r\n\t\t\tnewNextSibling = node.nextSibling;\r\n\r\n\t\t\tVvveb.Undo.addMutation({\r\n\t\t\t\ttype: 'move',\r\n\t\t\t\ttarget: node,\r\n\t\t\t\toldParent: oldParent,\r\n\t\t\t\tnewParent: newParent,\r\n\t\t\t\toldNextSibling: oldNextSibling,\r\n\t\t\t\tnewNextSibling: newNextSibling\r\n\t\t\t});\r\n\r\n\t\t\tevent.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#clone-box\").on(\"click\", function (event) {\r\n\t\t\tclone = self.selectedEl.clone();\r\n\r\n\t\t\tself.selectedEl.after(clone);\r\n\r\n\t\t\tself.selectedEl = clone.click();\r\n\r\n\t\t\tnode = clone.get(0);\r\n\t\t\tVvveb.Undo.addMutation({\r\n\t\t\t\ttype: 'childList',\r\n\t\t\t\ttarget: node.parentNode,\r\n\t\t\t\taddedNodes: [node],\r\n\t\t\t\tnextSibling: node.nextSibling\r\n\t\t\t});\r\n\r\n\t\t\tevent.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#parent-box\").on(\"click\", function (event) {\r\n\r\n\t\t\tnode = self.selectedEl.parent().get(0);\r\n\r\n\t\t\tself.selectNode(node);\r\n\t\t\tself.loadNodeComponent(node);\r\n\r\n\t\t\tevent.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#delete-box\").on(\"click\", function (event) {\r\n\t\t\tjQuery(\"#select-box\").hide();\r\n\r\n\t\t\tnode = self.selectedEl.get(0);\r\n\r\n\t\t\tVvveb.Undo.addMutation({\r\n\t\t\t\ttype: 'childList',\r\n\t\t\t\ttarget: node.parentNode,\r\n\t\t\t\tremovedNodes: [node],\r\n\t\t\t\tnextSibling: node.nextSibling\r\n\t\t\t});\r\n\r\n\t\t\tself.selectedEl.remove();\r\n\r\n\t\t\tevent.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\tjQuery(window.FrameWindow).on(\"scroll resize\", function (event) {\r\n\r\n\t\t\tif (self.selectedEl) {\r\n\t\t\t\toffset = self.selectedEl.offset();\r\n\r\n\t\t\t\tjQuery(\"#select-box\").css(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"top\": offset.top - self.frameDoc.scrollTop(),\r\n\t\t\t\t\t\t\"left\": offset.left - self.frameDoc.scrollLeft(),\r\n\t\t\t\t\t\t\"width\": self.selectedEl.outerWidth(),\r\n\t\t\t\t\t\t\"height\": self.selectedEl.outerHeight(),\r\n\t\t\t\t\t\t//\"display\": \"block\"\r\n\t\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (self.highlightEl) {\r\n\t\t\t\toffset = self.highlightEl.offset();\r\n\r\n\t\t\t\tjQuery(\"#highlight-box\").css(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"top\": offset.top - self.frameDoc.scrollTop(),\r\n\t\t\t\t\t\t\"left\": offset.left - self.frameDoc.scrollLeft(),\r\n\t\t\t\t\t\t\"width\": self.highlightEl.outerWidth(),\r\n\t\t\t\t\t\t\"height\": self.highlightEl.outerHeight(),\r\n\t\t\t\t\t\t//\"display\": \"block\"\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t},\r\n\r\n\t/* drag and drop */\r\n\t_initDragdrop: function () {\r\n\r\n\t\tself.isDragging = false;\r\n\t\tcomponent = {};\r\n\t\t$('#components ul > li > ol > li').on(\"mousedown touchstart\", function (event) {\r\n\t\t\t$this = jQuery(this);\r\n\r\n\t\t\t// $(\"#component-clone\").remove();\r\n\t\t\tcomponent = Vvveb.Components.get($this.data(\"type\"));\r\n\r\n\t\t\tif (component.dragHtml) {\r\n\t\t\t\thtml = component.dragHtml;\r\n\t\t\t} else {\r\n\t\t\t\thtml = component.html;\r\n\t\t\t}\r\n\r\n\t\t\tself.dragElement = $(html);\r\n\r\n\t\t\tif (component.dragStart) self.dragElement = component.dragStart(self.dragElement);\r\n\r\n\t\t\tself.isDragging = true;\r\n\t\t});\r\n\r\n\r\n\t\t$('body').on('mouseup touchend', function (event) {\r\n\t\t\tif (self.isDragging == true) {\r\n\t\t\t\tself.isDragging = false;\r\n\t\t\t\t// $(\"#component-clone\").remove();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('body').on('mousemove touchmove', function (event) {\r\n\t\t\tif (self.isDragging == true) {\r\n\t\t\t\telementMouseIsOver = document.elementFromPoint(event.clientX - 60, event.clientY - 40);\r\n\t\t\t\t//if drag elements hovers over iframe switch to iframe mouseover handler\t\r\n\t\t\t\tif (elementMouseIsOver && elementMouseIsOver.tagName == 'IFRAME') {\r\n\t\t\t\t\tself.frameBody.trigger(\"mousemove\", event);\r\n\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\tself.selectNode(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('#components ul > ol > li > li').on(\"mouseup touchend\", function (event) {\r\n\t\t\tself.isDragging = false;\r\n\t\t\t// $(\"#component-clone\").remove();\r\n\t\t});\r\n\r\n\t},\r\n\r\n\tgetBeautifiedHtml() {\r\n\t\t/*\r\n\t\t-I, --indent-inner-html            Indent <head> and <body> sections. Default is false.\r\n\t\t-U, --unformatted                  List of tags (defaults to inline) that should not be reformatted\r\n\t\t\t\t\t\t\t\t\t\t   use empty array to denote that no tags should not be reformatted\r\n\t\t */\r\n\r\n\t\tconst { doctype, html } = this.getHtml();\r\n\t\treturn html_beautify(`${doctype}\r\n\t\t\t\t\t\t\t  ${removeUnusedTags(html, unusedTags)}`,\r\n\t\t\t{\r\n\t\t\t\tpreserve_newlines: false,\r\n\t\t\t\tindent_inner_html: true,\r\n\t\t\t\tunformatted: []\r\n\t\t\t});\r\n\t},\r\n\r\n\tgetHtml: function () {\r\n\t\tdoc = window.FrameDocument;\r\n\t\tconst doctype = \"<!DOCTYPE \"\r\n\t\t\t+ doc.doctype.name\r\n\t\t\t+ (doc.doctype.publicId ? ' PUBLIC \"' + doc.doctype.publicId + '\"' : '')\r\n\t\t\t+ (!doc.doctype.publicId && doc.doctype.systemId ? ' SYSTEM' : '')\r\n\t\t\t+ (doc.doctype.systemId ? ' \"' + doc.doctype.systemId + '\"' : '')\r\n\t\t\t+ \">\\n\";\r\n\t\tconst html = `${doctype}\r\n\t\t\t\t\t  <html>\r\n\t\t\t\t\t\t  ${doc.documentElement.innerHTML}\r\n\t\t\t\t\t  </html>`;\r\n\t\treturn {\r\n\t\t\tdoctype,\r\n\t\t\thtml\r\n\t\t};\r\n\t},\r\n\r\n\tsetHtml: function (html) {\r\n\t\t//update only body to avoid breaking iframe css/js relative paths\r\n\t\tstart = html.indexOf(\"<body\");\r\n\t\tend = html.indexOf(\"</body\");\r\n\r\n\t\tif (start >= 0 && end >= 0) {\r\n\t\t\tbody = html.slice(html.indexOf(\">\", start) + 1, end);\r\n\t\t} else {\r\n\t\t\tbody = html\r\n\t\t}\r\n\r\n\t\t//self.frameBody.html(body);\r\n\t\twindow.FrameDocument.body.innerHTML = body;\r\n\r\n\t\t//below methods brake document relative css and js paths\r\n\t\t//return self.iframe.outerHTML = html;\r\n\t\t//return self.documentFrame.html(html);\r\n\t\t//return self.documentFrame.attr(\"srcdoc\", html);\r\n\t}\r\n};\r\n\r\nVvveb.CodeEditor = {\r\n\r\n\tisActive: false,\r\n\toldValue: '',\r\n\tdoc: false,\r\n\r\n\tinit: function (doc) {\r\n\t\t$(\"#vvveb-code-editor textarea\").val(Vvveb.Builder.getBeautifiedHtml());\r\n\r\n\t\t$(\"#vvveb-code-editor textarea\").keyup(function () {\r\n\t\t\tdelay(Vvveb.Builder.setHtml(this.value), 1000);\r\n\t\t});\r\n\r\n\t\t//load code on document changes\r\n\t\tVvveb.Builder.frameBody.on(\"vvveb.undo.add vvveb.undo.restore\", function (e) { Vvveb.CodeEditor.setValue(); });\r\n\t\t//load code when a new url is loaded\r\n\t\tVvveb.Builder.documentFrame.on(\"load\", function (e) { Vvveb.CodeEditor.setValue(); });\r\n\r\n\t\tthis.isActive = true;\r\n\t},\r\n\r\n\tsetValue: function (value) {\r\n\t\tif (this.isActive) {\r\n\t\t\t$(\"#vvveb-code-editor textarea\").val(Vvveb.Builder.getBeautifiedHtml());\r\n\t\t}\r\n\t},\r\n\r\n\tdestroy: function (element) {\r\n\t\t//this.isActive = false;\r\n\t},\r\n\r\n\ttoggle: function () {\r\n\t\tif (this.isActive != true) {\r\n\t\t\tthis.isActive = true;\r\n\t\t\treturn this.init();\r\n\t\t}\r\n\t\tthis.isActive = false;\r\n\t\tthis.destroy();\r\n\t}\r\n}\r\n\r\nlet shownPanel, hiddenPanel, isPreview;\r\n\r\nVvveb.Gui = {\r\n\r\n\tinit: function () {\r\n\t\t$(\"[data-vvveb-action]\").each(function () {\r\n\t\t\ton = \"click\";\r\n\t\t\tif (this.dataset.vvvebOn) on = this.dataset.vvvebOn;\r\n\r\n\t\t\t$(this).on(on, Vvveb.Gui[this.dataset.vvvebAction]);\r\n\t\t\tif (this.dataset.vvvebShortcut) {\r\n\t\t\t\t$(document).bind('keydown', this.dataset.vvvebShortcut, Vvveb.Gui[this.dataset.vvvebAction]);\r\n\t\t\t\t$(window.FrameDocument, window.FrameWindow).bind('keydown', this.dataset.vvvebShortcut, Vvveb.Gui[this.dataset.vvvebAction]);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tundo: function () {\r\n\t\tif (Vvveb.WysiwygEditor.isActive) {\r\n\t\t\tVvveb.WysiwygEditor.undo();\r\n\t\t} else {\r\n\t\t\tVvveb.Undo.undo();\r\n\t\t}\r\n\t\tVvveb.Builder.selectNode();\r\n\t},\r\n\r\n\tredo: function () {\r\n\t\tif (Vvveb.WysiwygEditor.isActive) {\r\n\t\t\tVvveb.WysiwygEditor.redo();\r\n\t\t} else {\r\n\t\t\tVvveb.Undo.redo();\r\n\t\t}\r\n\t\tVvveb.Builder.selectNode();\r\n\t},\r\n\r\n\tcheck: function () {\r\n\t\t$('#textarea-modal textarea').val(Vvveb.Builder.getBeautifiedHtml());\r\n\t\t$('#textarea-modal').modal();\r\n\t},\r\n\r\n\tviewport: function () {\r\n\t\t$(\"#canvas\").attr(\"class\", this.dataset.view);\r\n\t},\r\n\r\n\ttoggleEditor: function () {\r\n\t\t$(\"#vvveb-builder\").toggleClass(\"bottom-panel-expand\");\r\n\t\tVvveb.CodeEditor.toggle();\r\n\t},\r\n\r\n\tdownload() {\r\n\t\tdownloadAsTextFile('index', Vvveb.Builder.getBeautifiedHtml());\r\n\t},\r\n\r\n\tpreview: function () {\r\n\t\tif ($('#left-panel').is(':visible')) {\r\n\t\t\tshownPanel = 'left-panel';\r\n\t\t\thiddenPanel = 'right-panel';\r\n\t\t\t$('#left-panel, #right-panel').hide();\r\n\t\t\tisPreview = true;\r\n\t\t} else if ($('#right-panel').is(':visible')) {\r\n\t\t\tshownPanel = 'right-panel';\r\n\t\t\thiddenPanel = 'left-panel';\r\n\t\t\t$('#left-panel, #right-panel').hide();\r\n\t\t\tisPreview = true;\r\n\t\t} else {\r\n\t\t\tisPreview = false;\r\n\t\t\t$(`#${shownPanel}`).show();\r\n\t\t\t$(`#${hiddenPanel}`).hide();\r\n\t\t}\r\n\r\n\t\t$('#menu-panel').toggle();\r\n\t\t$(\"#iframe-layer\").toggle();\r\n\t\t$(\"#vvveb-builder\").toggleClass(\"preview\");\r\n\t},\r\n\r\n\tfullscreen: function () {\r\n\t\tlaunchFullScreen(document); // the whole page\r\n\t},\r\n\r\n\tcomponentSearch: function () {\r\n\t\tsearchText = this.value;\r\n\r\n\t\t$(\"#components-list li ol li\").each(function () {\r\n\t\t\t$this = $(this);\r\n\r\n\t\t\t$this.hide();\r\n\t\t\tif ($this.data(\"search\").indexOf(searchText) > -1) $this.show();\r\n\t\t});\r\n\t},\r\n\r\n\tclearComponentSearch: function () {\r\n\t\t$(\"#component-search\").val(\"\").keyup();\r\n\t}\r\n}\r\n\r\nVvveb.FileManager = {\r\n\ttree: false,\r\n\tpages: {},\r\n\r\n\tinit: function () {\r\n\t\tthis.tree = $(\"#filemanager .tree > ol\").html(\"\");\r\n\r\n\t\t$(this.tree).on(\"click\", \"li[data-page] span\", function (e) {\r\n\t\t\twindow.location.href = `#${$(this).parents('li').data('page')}`;\r\n\t\t\twindow.location.reload();\r\n\t\t\t// Vvveb.FileManager.loadPage($(this).parents(\"li\").data(\"page\"));\r\n\t\t\treturn false;\r\n\t\t})\r\n\t},\r\n\r\n\tgetPage(name) {\r\n\t\treturn this.pages[name];\r\n\t},\r\n\r\n\taddPage: function (name, title, url) {\r\n\r\n\t\tthis.pages[name] = {\r\n\t\t\tname,\r\n\t\t\ttitle,\r\n\t\t\turl\r\n\t\t};\r\n\r\n\t\tthis.tree.append(\r\n\t\t\ttmpl(\"vvveb-filemanager-page\", { name, title, url }));\r\n\t},\r\n\r\n\taddPages: function (pages) {\r\n\t\tfor (page in pages) {\r\n\t\t\tthis.addPage(pages[page]['name'], pages[page]['title'], pages[page]['url']);\r\n\t\t}\r\n\t},\r\n\r\n\taddComponent: function (name, url, title, page) {\r\n\t\t$(\"[data-page='\" + page + \"'] > ol\", this.tree).append(\r\n\t\t\ttmpl(\"vvveb-filemanager-component\", { name, url, title }));\r\n\t},\r\n\r\n\tshowActive(name) {\r\n\t\t$(\"[data-page]\", this.tree).removeClass(\"active\");\r\n\t\t$(\"[data-page='\" + name + \"']\", this.tree).addClass(\"active\");\r\n\t},\r\n\r\n\tloadPage: function (name) {\r\n\t\t$(\"[data-page]\", this.tree).removeClass(\"active\");\r\n\t\t$(\"[data-page='\" + name + \"']\", this.tree).addClass(\"active\");\r\n\r\n\t\tVvveb.Builder.loadUrl(this.pages[name]['url']);\r\n\t},\r\n\r\n}\r\n\r\n// Toggle fullscreen\r\nfunction launchFullScreen(document) {\r\n\tif (document.documentElement.requestFullScreen) {\r\n\r\n\t\tif (document.FullScreenElement)\r\n\t\t\tdocument.exitFullScreen();\r\n\t\telse\r\n\t\t\tdocument.documentElement.requestFullScreen();\r\n\t\t//mozilla\t\t\r\n\t} else if (document.documentElement.mozRequestFullScreen) {\r\n\r\n\t\tif (document.mozFullScreenElement)\r\n\t\t\tdocument.mozCancelFullScreen();\r\n\t\telse\r\n\t\t\tdocument.documentElement.mozRequestFullScreen();\r\n\t\t//webkit\t  \r\n\t} else if (document.documentElement.webkitRequestFullScreen) {\r\n\r\n\t\tif (document.webkitFullscreenElement)\r\n\t\t\tdocument.webkitExitFullscreen();\r\n\t\telse\r\n\t\t\tdocument.documentElement.webkitRequestFullScreen();\r\n\t\t//ie\t  \r\n\t} else if (document.documentElement.msRequestFullscreen) {\r\n\r\n\t\tif (document.msFullScreenElement)\r\n\t\t\tdocument.msExitFullscreen();\r\n\t\telse\r\n\t\t\tdocument.documentElement.msRequestFullscreen();\r\n\t}\r\n}\r\n\r\n/*\r\nCopyright 2017 Ziadin Givan\r\n\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\n   http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n\r\nhttps://github.com/givanz/VvvebJs\r\n*/\r\n\r\n/*\r\nhttps://developer.mozilla.org/en-US/docs/Web/API/MutationObserver\r\n\r\nchildList \t\t\t\tSet to true if additions and removals of the target node's child elements (including text nodes) are to be observed.\r\nattributes \t\t\t\tSet to true if mutations to target's attributes are to be observed.\r\ncharacterData \t\t\tSet to true if mutations to target's data are to be observed.\r\nsubtree \t\t\t\tSet to true if mutations to target and target's descendants are to be observed.\r\nattributeOldValue \t\tSet to true if attributes is set to true and target's attribute value before the mutation needs to be recorded.\r\ncharacterDataOldValue \tSet to true if characterData is set to true and target's data before the mutation needs to be recorded.\r\nattributeFilter \t\tSet to an array of attribute local names (without namespace) if not all attribute mutations need to be observed.\r\n*/\r\n\r\n/*\r\nMutationRecord.type\t\t\t\t \tString \t\tReturns \"attributes\" if the mutation was an attribute mutation,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"characterData\" if it was a mutation to a CharacterData node,\r\n\t\t\t\t\t\t\t\t\t\t\t\tand \"childList\" if it was a mutation to the tree of nodes.\r\n\r\nMutationRecord.target \t\t\t\tNode \t\tReturns the node the mutation affected, depending on the MutationRecord.type.\r\n\t\t\t\t\t\t\t\t\t\t\t\tFor attributes, it is the element whose attribute changed.\r\n\t\t\t\t\t\t\t\t\t\t\t\tFor characterData, it is the CharacterData node.\r\n\t\t\t\t\t\t\t\t\t\t\t\tFor childList, it is the node whose children changed.\r\n\r\nMutationRecord.addedNodes \t\t\tNodeList \tReturn the nodes added. Will be an empty NodeList if no nodes were added.\r\nMutationRecord.removedNodes \t\tNodeList \tReturn the nodes removed. Will be an empty NodeList if no nodes were removed.\r\nMutationRecord.previousSibling \t\tNode \t\tReturn the previous sibling of the added or removed nodes, or null.\r\nMutationRecord.nextSibling \t\t\tNode \t\tReturn the next sibling of the added or removed nodes, or null.\r\nMutationRecord.attributeName \t\tString \t\tReturns the local name of the changed attribute, or null.\r\nMutationRecord.attributeNamespace \tString \t\tReturns the namespace of the changed attribute, or null.\r\nMutationRecord.oldValue \t\t\tString \t\tThe return value depends on the MutationRecord.type.\r\n\t\t\t\t\t\t\t\t\t\t\t\tFor attributes, it is the value of the changed attribute before the change.\r\n\t\t\t\t\t\t\t\t\t\t\t\tFor characterData, it is the data of the changed node before the change.\r\n\t\t\t\t\t\t\t\t\t\t\t\tFor childList, it is null.\r\n*/\r\nVvveb.Undo = {\r\n\r\n\tundos: [],\r\n\tmutations: [],\r\n\tundoIndex: -1,\r\n\tenabled: true,\r\n\t/*\t\t\r\n\tinit: function() {\r\n\t},\r\n\t*/\r\n\taddMutation(mutation) {\r\n\t\t/*\r\n\t\t\tthis.mutations.push(mutation);\r\n\t\t\tthis.undoIndex++;\r\n\t\t*/\r\n\t\tVvveb.Builder.frameBody.trigger(\"vvveb.undo.add\");\r\n\t\tthis.mutations.splice(++this.undoIndex, 0, mutation);\r\n\t},\r\n\r\n\trestore(mutation, undo) {\r\n\r\n\t\tswitch (mutation.type) {\r\n\t\t\tcase 'childList':\r\n\r\n\t\t\t\tif (undo == true) {\r\n\t\t\t\t\taddedNodes = mutation.removedNodes;\r\n\t\t\t\t\tremovedNodes = mutation.addedNodes;\r\n\t\t\t\t} else //redo\r\n\t\t\t\t{\r\n\t\t\t\t\taddedNodes = mutation.addedNodes;\r\n\t\t\t\t\tremovedNodes = mutation.removedNodes;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (addedNodes) for (i in addedNodes) {\r\n\t\t\t\t\tnode = addedNodes[i];\r\n\t\t\t\t\tif (mutation.nextSibling) {\r\n\t\t\t\t\t\tmutation.nextSibling.parentNode.insertBefore(node, mutation.nextSibling);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmutation.target.append(node);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (removedNodes) for (i in removedNodes) {\r\n\t\t\t\t\tnode = removedNodes[i];\r\n\t\t\t\t\tnode.parentNode.removeChild(node);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'move':\r\n\t\t\t\tif (undo == true) {\r\n\t\t\t\t\tparent = mutation.oldParent;\r\n\t\t\t\t\tsibling = mutation.oldNextSibling;\r\n\t\t\t\t} else //redo\r\n\t\t\t\t{\r\n\t\t\t\t\tparent = mutation.newParent;\r\n\t\t\t\t\tsibling = mutation.newNextSibling;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (sibling) {\r\n\t\t\t\t\tsibling.parentNode.insertBefore(mutation.target, sibling);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparent.append(node);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'characterData':\r\n\t\t\t\tmutation.target.innerHTML = undo ? mutation.oldValue : mutation.newValue;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'attributes':\r\n\t\t\t\tvalue = undo ? mutation.oldValue : mutation.newValue;\r\n\r\n\t\t\t\tif (value || value === false || value === 0)\r\n\t\t\t\t\tmutation.target.setAttribute(mutation.attributeName, value);\r\n\t\t\t\telse\r\n\t\t\t\t\tmutation.target.removeAttribute(mutation.attributeName);\r\n\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tVvveb.Builder.frameBody.trigger(\"vvveb.undo.restore\");\r\n\t},\r\n\r\n\tundo() {\r\n\t\tif (this.undoIndex >= 0) {\r\n\t\t\tthis.restore(this.mutations[this.undoIndex--], true);\r\n\t\t}\r\n\t},\r\n\r\n\tredo() {\r\n\t\tif (this.undoIndex < this.mutations.length - 1) {\r\n\t\t\tthis.restore(this.mutations[++this.undoIndex], false);\r\n\t\t}\r\n\t},\r\n\r\n\thasChanges() {\r\n\t\treturn this.mutations.length;\r\n\t},\r\n};\r\n\r\n/*\r\nCopyright 2017 Ziadin Givan\r\n\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\n   http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n\r\nhttps://github.com/givanz/VvvebJs\r\n*/\r\n\r\nvar Input = {\r\n\t\r\n\tinit: function(name) {\r\n\t},\r\n\r\n\r\n\tonChange: function(event, node) {\r\n\t\t\r\n\t\tif (event.data && event.data.element)\r\n\t\t{\r\n\t\t\tevent.data.element.trigger('propertyChange', [this.value, this]);\r\n\t\t}\r\n\t},\r\n\r\n\trenderTemplate: function(name, data) {\r\n\t\treturn tmpl(\"vvveb-input-\" + name, data);\r\n\t},\r\n\r\n\trender: function(name, data) {\r\n\t\tthis.element = $(this.renderTemplate(name, data));\r\n\t\t\r\n\t\t//bind events\r\n\t\tif (this.events)\r\n\t\tfor (var i in this.events)\r\n\t\t{\r\n\t\t\tevent = this.events[i][0];\r\n\t\t\tfun = this[ this.events[i][1] ];\r\n\t\t\tel = this.events[i][2];\r\n\t\t\r\n\t\t\tthis.element.on(event, el, {element: this.element, input:this}, fun);\r\n\t\t}\r\n\r\n\t\treturn this.element;\r\n\t}\r\n};\r\n\r\nvar TextInput = $.extend({}, Input, {\r\n\r\n    events: [\r\n        [\"keyup\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"textinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar CheckboxInput = $.extend({}, Input, {\r\n\r\n\tonChange: function(event, node) {\r\n\t\t\r\n\t\tif (event.data && event.data.element)\r\n\t\t{\r\n\t\t\tevent.data.element.trigger('propertyChange', [this.checked, this]);\r\n\t\t}\r\n\t},\r\n\r\n    events: [\r\n        [\"change\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"checkboxinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar SelectInput = $.extend({}, Input, {\r\n\t\r\n    events: [\r\n        [\"change\", \"onChange\", \"select\"],\r\n\t ],\r\n\t\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('select', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"select\", data);\r\n\t},\r\n\t\r\n  }\r\n);\r\n\r\n\r\nvar LinkInput = $.extend({}, TextInput, {\r\n\r\n    events: [\r\n        [\"change\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"textinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar RangeInput = $.extend({}, Input, {\r\n\r\n    events: [\r\n        [\"change\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"rangeinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar NumberInput = $.extend({}, Input, {\r\n\r\n    events: [\r\n        [\"change\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"numberinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar CssUnitInput = $.extend({}, Input, {\r\n\r\n\tnumber:0,\r\n\tunit:\"px\",\r\n\t\t\r\n\tonChange: function(event) {\r\n\t\t\r\n\t\tif (event.data && event.data.element)\r\n\t\t{\r\n\t\t\tinput = event.data.input;\r\n\t\t\tinput[this.name] = this.value;// this.name = unit or number\t\r\n\t\t\t\r\n\t\t\tvalue = \"\";\t\r\n\t\t\tif (input.unit == \"auto\")  \r\n\t\t\t{\r\n\t\t\t\t$(event.data.element).addClass(\"auto\"); \r\n\t\t\t\tvalue = input.unit;\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\t$(event.data.element).removeClass(\"auto\"); \r\n\t\t\t\tvalue = input.number + input.unit;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tevent.data.element.trigger('propertyChange', [value, this]);\r\n\t\t}\r\n\t},\r\n\t\r\n    events: [\r\n        [\"change\", \"onChange\", \"select\"],\r\n        [\"change\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\tthis.number = parseInt(value);\r\n\t\tthis.unit = value.replace(this.number, '');\r\n\t\t\r\n\t\tif (this.unit == \"auto\") $(this.element).addClass(\"auto\");\r\n\r\n\t\t$('input', this.element).val(this.number);\r\n\t\t$('select', this.element).val(this.unit);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"cssunitinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar ColorInput = $.extend({}, Input, {\r\n\r\n\t //html5 color input only supports setting values as hex colors even if the picker returns only rgb\r\n\t rgb2hex: function(rgb) {\r\n\t\t \r\n\t\t rgb = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\r\n\t\t \r\n\t\t return (rgb && rgb.length === 4) ? \"#\" +\r\n\t\t  (\"0\" + parseInt(rgb[1],10).toString(16)).slice(-2) +\r\n\t\t  (\"0\" + parseInt(rgb[2],10).toString(16)).slice(-2) +\r\n\t\t  (\"0\" + parseInt(rgb[3],10).toString(16)).slice(-2) : rgb;\r\n\t},\r\n\r\n    events: [\r\n        [\"change\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(this.rgb2hex(value));\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"colorinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar FileUploadInput = $.extend({}, TextInput, {\r\n\r\n    events: [\r\n        [\"keyup\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"textinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\n\r\nvar RadioInput = $.extend({}, Input, {\r\n\r\n\tonChange: function(event, node) {\r\n\t\t\r\n\t\tif (event.data && event.data.element)\r\n\t\t{\r\n\t\t\tevent.data.element.trigger('propertyChange', [this.value, this]);\r\n\t\t}\r\n\t},\r\n\r\n    events: [\r\n        [\"change\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).removeAttr('checked');\r\n\t\tif (value)\r\n\t\t$(\"input[value=\" + value + \"]\", this.element).prop('checked', true);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"radioinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar RadioButtonInput = $.extend({}, RadioInput, {\r\n\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"radiobuttoninput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar ToggleInput = $.extend({}, TextInput, {\r\n\r\n\tonChange: function(event, node) {\r\n\t\tif (event.data && event.data.element)\r\n\t\t{\r\n\t\t\tevent.data.element.trigger('propertyChange', [this.checked?this.getAttribute(\"data-value-on\"):this.getAttribute(\"data-value-off\"), this]);\r\n\t\t}\r\n\t},\r\n\r\n    events: [\r\n        [\"change\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"toggle\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar ValueTextInput = $.extend({}, TextInput, {\r\n\r\n    events: [\r\n        [\"keyup\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"textinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar GridLayoutInput = $.extend({}, TextInput, {\r\n\r\n    events: [\r\n        [\"keyup\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"textinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar ProductsInput = $.extend({}, TextInput, {\r\n\r\n    events: [\r\n        [\"keyup\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"textinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\n\r\nvar GridInput = $.extend({}, Input, {\r\n\t\r\n\r\n    events: [\r\n        [\"change\", \"onChange\", \"select\" /*'select'*/],\r\n        [\"click\", \"onChange\", \"button\" /*'select'*/],\r\n\t ],\r\n\t\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('select', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"grid\", data);\r\n\t},\r\n\t\r\n  }\r\n);\r\n\r\nvar TextValueInput = $.extend({}, Input, {\r\n\t\r\n\r\n    events: [\r\n        [\"keyup\", \"onChange\", \"input\"],\r\n\t    [\"click\", \"onChange\", \"button\" /*'select'*/],\r\n\t ],\r\n\t\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"textvalue\", data);\r\n\t},\r\n\t\r\n  }\r\n);\r\n\r\nvar ButtonInput = $.extend({}, Input, {\r\n\r\n    events: [\r\n        [\"click\", \"onChange\", \"button\" /*'select'*/],\r\n\t ],\r\n\t\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('button', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"button\", data);\r\n\t},\r\n\t\r\n  }\r\n);\r\n\r\nvar SectionInput = $.extend({}, Input, {\r\n\r\n    events: [\r\n        [\"click\", \"onChange\", \"button\" /*'select'*/],\r\n\t ],\r\n\t\r\n\r\n\tsetValue: function(value) {\r\n\t\treturn false;\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"sectioninput\", data);\r\n\t},\r\n\t\r\n  }\r\n);\r\n\r\nvar ListInput = $.extend({}, Input, {\r\n\t\r\n    events: [\r\n        [\"change\", \"onChange\", \"select\"],\r\n\t ],\r\n\t\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('select', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"listinput\", data);\r\n\t},\r\n\t\r\n  }\r\n);\r\n\r\n/*\r\nCopyright 2017 Ziadin Givan\r\n\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\n   http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n\r\nhttps://github.com/givan/Vvvebjs\r\n*/\r\n\r\nbgcolorClasses = [\"bg-primary\", \"bg-secondary\", \"bg-success\", \"bg-danger\", \"bg-warning\", \"bg-info\", \"bg-light\", \"bg-dark\", \"bg-white\"]\r\n\r\nbgcolorSelectOptions =\r\n    [{\r\n        value: \"Default\",\r\n        text: \"\"\r\n    },\r\n    {\r\n        value: \"bg-primary\",\r\n        text: \"Primary\"\r\n    }, {\r\n        value: \"bg-secondary\",\r\n        text: \"Secondary\"\r\n    }, {\r\n        value: \"bg-success\",\r\n        text: \"Success\"\r\n    }, {\r\n        value: \"bg-danger\",\r\n        text: \"Danger\"\r\n    }, {\r\n        value: \"bg-warning\",\r\n        text: \"Warning\"\r\n    }, {\r\n        value: \"bg-info\",\r\n        text: \"Info\"\r\n    }, {\r\n        value: \"bg-light\",\r\n        text: \"Light\"\r\n    }, {\r\n        value: \"bg-dark\",\r\n        text: \"Dark\"\r\n    }, {\r\n        value: \"bg-white\",\r\n        text: \"White\"\r\n    }];\r\n\r\nfunction changeNodeName(node, newNodeName) {\r\n    var newNode;\r\n    newNode = document.createElement(newNodeName);\r\n    attributes = node.get(0).attributes;\r\n\r\n    for (i = 0, len = attributes.length; i < len; i++) {\r\n        newNode.setAttribute(attributes[i].nodeName, attributes[i].nodeValue);\r\n    }\r\n\r\n    $(newNode).append($(node).contents());\r\n    $(node).replaceWith(newNode);\r\n\r\n    return newNode;\r\n}\r\n\r\nVvveb.ComponentsGroup['Bootstrap 3'] =\r\n    ['html/div', 'html/button', 'html/buttongroup', 'html/buttontoolbar', 'html/form', 'html/textinput', 'html/textareainput', 'html/selectinput', 'html/fileinput', 'html/checkbox', 'html/radiobutton', 'html/table', 'html/heading', 'html/image', 'html/jumbotron', 'html/alert', 'html/card', 'html/listgroup', 'html/hr', 'html/taglabel', 'html/badge', 'html/progress', 'html/navbar', 'html/breadcrumbs', 'html/pagination', 'html/container', 'html/gridrow'];\r\n\r\n\r\nvar base_sort = 100;//start sorting for base component from 100 to allow extended properties to be first\r\n\r\nVvveb.Components.add(\"_base\", {\r\n    name: \"Element\",\r\n    properties: [{\r\n        key: \"element_header\",\r\n        inputtype: SectionInput,\r\n        name: false,\r\n        sort: base_sort++,\r\n        data: { header: \"General\" },\r\n    }, {\r\n        name: \"Id\",\r\n        key: \"id\",\r\n        htmlAttr: \"id\",\r\n        sort: base_sort++,\r\n        inline: true,\r\n        col: 6,\r\n        inputtype: TextInput\r\n    }, {\r\n        name: \"Class\",\r\n        key: \"class\",\r\n        htmlAttr: \"class\",\r\n        sort: base_sort++,\r\n        inline: true,\r\n        col: 6,\r\n        inputtype: TextInput\r\n    }\r\n    ]\r\n});\r\n\r\n//display\r\nVvveb.Components.extend(\"_base\", \"_base\", {\r\n    properties: [\r\n        {\r\n            key: \"display_header\",\r\n            inputtype: SectionInput,\r\n            name: false,\r\n            sort: base_sort++,\r\n            data: { header: \"Display\" },\r\n        }, {\r\n            name: \"Display\",\r\n            key: \"display\",\r\n            htmlAttr: \"style\",\r\n            sort: base_sort++,\r\n            col: 6,\r\n            inline: true,\r\n            inputtype: SelectInput,\r\n            validValues: [\"block\", \"inline\", \"inline-block\", \"none\"],\r\n            data: {\r\n                options: [{\r\n                    value: \"block\",\r\n                    text: \"Block\"\r\n                }, {\r\n                    value: \"inline\",\r\n                    text: \"Inline\"\r\n                }, {\r\n                    value: \"inline-block\",\r\n                    text: \"Inline Block\"\r\n                }, {\r\n                    value: \"none\",\r\n                    text: \"none\"\r\n                }]\r\n            }\r\n        }, {\r\n            name: \"Position\",\r\n            key: \"position\",\r\n            htmlAttr: \"style\",\r\n            sort: base_sort++,\r\n            col: 6,\r\n            inline: true,\r\n            inputtype: SelectInput,\r\n            validValues: [\"static\", \"fixed\", \"relative\", \"absolute\"],\r\n            data: {\r\n                options: [{\r\n                    value: \"static\",\r\n                    text: \"Static\"\r\n                }, {\r\n                    value: \"fixed\",\r\n                    text: \"Fixed\"\r\n                }, {\r\n                    value: \"relative\",\r\n                    text: \"Relative\"\r\n                }, {\r\n                    value: \"absolute\",\r\n                    text: \"Absolute\"\r\n                }]\r\n            }\r\n        }, {\r\n            name: \"Top\",\r\n            key: \"top\",\r\n            htmlAttr: \"style\",\r\n            sort: base_sort++,\r\n            col: 6,\r\n            inline: true,\r\n            parent: \"\",\r\n            inputtype: CssUnitInput\r\n        }, {\r\n            name: \"Left\",\r\n            key: \"left\",\r\n            htmlAttr: \"style\",\r\n            sort: base_sort++,\r\n            col: 6,\r\n            inline: true,\r\n            parent: \"\",\r\n            inputtype: CssUnitInput\r\n        }, {\r\n            name: \"Bottom\",\r\n            key: \"bottom\",\r\n            htmlAttr: \"style\",\r\n            sort: base_sort++,\r\n            col: 6,\r\n            inline: true,\r\n            parent: \"\",\r\n            inputtype: CssUnitInput\r\n        }, {\r\n            name: \"Right\",\r\n            key: \"right\",\r\n            htmlAttr: \"style\",\r\n            sort: base_sort++,\r\n            col: 6,\r\n            inline: true,\r\n            parent: \"\",\r\n            inputtype: CssUnitInput\r\n        }, {\r\n            name: \"Float\",\r\n            key: \"float\",\r\n            htmlAttr: \"style\",\r\n            sort: base_sort++,\r\n            col: 12,\r\n            inline: true,\r\n            inputtype: RadioButtonInput,\r\n            data: {\r\n                extraclass: \"btn-group-sm btn-group-fullwidth\",\r\n                options: [{\r\n                    value: \"none\",\r\n                    icon: \"la la-close\",\r\n                    //text: \"None\",\r\n                    title: \"None\",\r\n                    checked: true,\r\n                }, {\r\n                    value: \"left\",\r\n                    //text: \"Left\",\r\n                    title: \"Left\",\r\n                    icon: \"la la-align-left\",\r\n                    checked: false,\r\n                }, {\r\n                    value: \"right\",\r\n                    //text: \"Right\",\r\n                    title: \"Right\",\r\n                    icon: \"la la-align-right\",\r\n                    checked: false,\r\n                }],\r\n            }\r\n        }, {\r\n            name: \"Opacity\",\r\n            key: \"opacity\",\r\n            htmlAttr: \"style\",\r\n            sort: base_sort++,\r\n            col: 12,\r\n            inline: true,\r\n            parent: \"\",\r\n            inputtype: RangeInput,\r\n            data: {\r\n                max: 1, //max zoom level\r\n                min: 0,\r\n                step: 0.1\r\n            },\r\n        }, {\r\n            name: \"Background Color\",\r\n            key: \"background-color\",\r\n            sort: base_sort++,\r\n            col: 6,\r\n            inline: true,\r\n            htmlAttr: \"style\",\r\n            inputtype: ColorInput,\r\n        }, {\r\n            name: \"Text Color\",\r\n            key: \"color\",\r\n            sort: base_sort++,\r\n            col: 6,\r\n            inline: true,\r\n            htmlAttr: \"style\",\r\n            inputtype: ColorInput,\r\n        }]\r\n});\r\n\r\n//Typography\r\nVvveb.Components.extend(\"_base\", \"_base\", {\r\n    properties: [\r\n        {\r\n            key: \"typography_header\",\r\n            inputtype: SectionInput,\r\n            name: false,\r\n            sort: base_sort++,\r\n            data: { header: \"Typography\" },\r\n        }, {\r\n            name: \"Font family\",\r\n            key: \"font-family\",\r\n            htmlAttr: \"style\",\r\n            sort: base_sort++,\r\n            col: 6,\r\n            inline: true,\r\n            inputtype: SelectInput,\r\n            data: {\r\n                options: [{\r\n                    value: \"\",\r\n                    text: \"Default\"\r\n                }, {\r\n                    value: \"Arial, Helvetica, sans-serif\",\r\n                    text: \"Arial\"\r\n                }, {\r\n                    value: 'Lucida Sans Unicode\", \"Lucida Grande\", sans-serif',\r\n                    text: 'Lucida Grande'\r\n                }, {\r\n                    value: 'Palatino Linotype\", \"Book Antiqua\", Palatino, serif',\r\n                    text: 'Palatino Linotype'\r\n                }, {\r\n                    value: '\"Times New Roman\", Times, serif',\r\n                    text: 'Times New Roman'\r\n                }, {\r\n                    value: \"Georgia, serif\",\r\n                    text: \"Georgia, serif\"\r\n                }, {\r\n                    value: \"Tahoma, Geneva, sans-serif\",\r\n                    text: \"Tahoma\"\r\n                }, {\r\n                    value: 'Comic Sans MS, cursive, sans-serif',\r\n                    text: 'Comic Sans'\r\n                }, {\r\n                    value: 'Verdana, Geneva, sans-serif',\r\n                    text: 'Verdana'\r\n                }, {\r\n                    value: 'Impact, Charcoal, sans-serif',\r\n                    text: 'Impact'\r\n                }, {\r\n                    value: 'Arial Black, Gadget, sans-serif',\r\n                    text: 'Arial Black'\r\n                }, {\r\n                    value: 'Trebuchet MS, Helvetica, sans-serif',\r\n                    text: 'Trebuchet'\r\n                }, {\r\n                    value: 'Courier New\", Courier, monospace',\r\n                    text: 'Courier New\", Courier, monospace'\r\n                }, {\r\n                    value: 'Brush Script MT, sans-serif',\r\n                    text: 'Brush Script'\r\n                }]\r\n            }\r\n        }, {\r\n            name: \"Font weight\",\r\n            key: \"font-weight\",\r\n            htmlAttr: \"style\",\r\n            sort: base_sort++,\r\n            col: 6,\r\n            inline: true,\r\n            inputtype: SelectInput,\r\n            data: {\r\n                options: [{\r\n                    value: \"\",\r\n                    text: \"Default\"\r\n                }, {\r\n                    value: \"100\",\r\n                    text: \"Thin\"\r\n                }, {\r\n                    value: \"200\",\r\n                    text: \"Extra-Light\"\r\n                }, {\r\n                    value: \"300\",\r\n                    text: \"Light\"\r\n                }, {\r\n                    value: \"400\",\r\n                    text: \"Normal\"\r\n                }, {\r\n                    value: \"500\",\r\n                    text: \"Medium\"\r\n                }, {\r\n                    value: \"600\",\r\n                    text: \"Semi-Bold\"\r\n                }, {\r\n                    value: \"700\",\r\n                    text: \"Bold\"\r\n                }, {\r\n                    value: \"800\",\r\n                    text: \"Extra-Bold\"\r\n                }, {\r\n                    value: \"900\",\r\n                    text: \"Ultra-Bold\"\r\n                }],\r\n            }\r\n        }, {\r\n            name: \"Text align\",\r\n            key: \"text-align\",\r\n            htmlAttr: \"style\",\r\n            sort: base_sort++,\r\n            col: 12,\r\n            inline: true,\r\n            inputtype: RadioButtonInput,\r\n            data: {\r\n                extraclass: \"btn-group-sm btn-group-fullwidth\",\r\n                options: [{\r\n                    value: \"none\",\r\n                    icon: \"la la-close\",\r\n                    //text: \"None\",\r\n                    title: \"None\",\r\n                    checked: true,\r\n                }, {\r\n                    value: \"left\",\r\n                    //text: \"Left\",\r\n                    title: \"Left\",\r\n                    icon: \"la la-align-left\",\r\n                    checked: false,\r\n                }, {\r\n                    value: \"center\",\r\n                    //text: \"Center\",\r\n                    title: \"Center\",\r\n                    icon: \"la la-align-center\",\r\n                    checked: false,\r\n                }, {\r\n                    value: \"right\",\r\n                    //text: \"Right\",\r\n                    title: \"Right\",\r\n                    icon: \"la la-align-right\",\r\n                    checked: false,\r\n                }, {\r\n                    value: \"justify\",\r\n                    //text: \"justify\",\r\n                    title: \"Justify\",\r\n                    icon: \"la la-align-justify\",\r\n                    checked: false,\r\n                }],\r\n            },\r\n        }, {\r\n            name: \"Line height\",\r\n            key: \"line-height\",\r\n            htmlAttr: \"style\",\r\n            sort: base_sort++,\r\n            col: 6,\r\n            inline: true,\r\n            inputtype: CssUnitInput\r\n        }, {\r\n            name: \"Letter spacing\",\r\n            key: \"letter-spacing\",\r\n            htmlAttr: \"style\",\r\n            sort: base_sort++,\r\n            col: 6,\r\n            inline: true,\r\n            inputtype: CssUnitInput\r\n        }, {\r\n            name: \"Text decoration\",\r\n            key: \"text-decoration-line\",\r\n            htmlAttr: \"style\",\r\n            sort: base_sort++,\r\n            col: 12,\r\n            inline: true,\r\n            inputtype: RadioButtonInput,\r\n            data: {\r\n                extraclass: \"btn-group-sm btn-group-fullwidth\",\r\n                options: [{\r\n                    value: \"none\",\r\n                    icon: \"la la-close\",\r\n                    //text: \"None\",\r\n                    title: \"None\",\r\n                    checked: true,\r\n                }, {\r\n                    value: \"underline\",\r\n                    //text: \"Left\",\r\n                    title: \"underline\",\r\n                    icon: \"la la-long-arrow-down\",\r\n                    checked: false,\r\n                }, {\r\n                    value: \"overline\",\r\n                    //text: \"Right\",\r\n                    title: \"overline\",\r\n                    icon: \"la la-long-arrow-up\",\r\n                    checked: false,\r\n                }, {\r\n                    value: \"line-through\",\r\n                    //text: \"Right\",\r\n                    title: \"Line Through\",\r\n                    icon: \"la la-strikethrough\",\r\n                    checked: false,\r\n                }, {\r\n                    value: \"underline overline\",\r\n                    //text: \"justify\",\r\n                    title: \"Underline Overline\",\r\n                    icon: \"la la-arrows-v\",\r\n                    checked: false,\r\n                }],\r\n            },\r\n        }, {\r\n            name: \"Decoration Color\",\r\n            key: \"text-decoration-color\",\r\n            sort: base_sort++,\r\n            col: 6,\r\n            inline: true,\r\n            htmlAttr: \"style\",\r\n            inputtype: ColorInput,\r\n        }, {\r\n            name: \"Decoration style\",\r\n            key: \"text-decoration-style\",\r\n            htmlAttr: \"style\",\r\n            sort: base_sort++,\r\n            col: 6,\r\n            inline: true,\r\n            inputtype: SelectInput,\r\n            data: {\r\n                options: [{\r\n                    value: \"\",\r\n                    text: \"Default\"\r\n                }, {\r\n                    value: \"solid\",\r\n                    text: \"Solid\"\r\n                }, {\r\n                    value: \"wavy\",\r\n                    text: \"Wavy\"\r\n                }, {\r\n                    value: \"dotted\",\r\n                    text: \"Dotted\"\r\n                }, {\r\n                    value: \"dashed\",\r\n                    text: \"Dashed\"\r\n                }, {\r\n                    value: \"double\",\r\n                    text: \"Double\"\r\n                }],\r\n            }\r\n        }]\r\n})\r\n\r\n//Size\r\nVvveb.Components.extend(\"_base\", \"_base\", {\r\n    properties: [{\r\n        key: \"size_header\",\r\n        inputtype: SectionInput,\r\n        name: false,\r\n        sort: base_sort++,\r\n        data: { header: \"Size\", expanded: false },\r\n    }, {\r\n        name: \"Width\",\r\n        key: \"width\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col: 6,\r\n        inline: true,\r\n        inputtype: CssUnitInput\r\n    }, {\r\n        name: \"Height\",\r\n        key: \"height\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col: 6,\r\n        inline: true,\r\n        inputtype: CssUnitInput\r\n    }, {\r\n        name: \"Min Width\",\r\n        key: \"min-width\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col: 6,\r\n        inline: true,\r\n        inputtype: CssUnitInput\r\n    }, {\r\n        name: \"Min Height\",\r\n        key: \"min-height\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col: 6,\r\n        inline: true,\r\n        inputtype: CssUnitInput\r\n    }, {\r\n        name: \"Max Width\",\r\n        key: \"max-width\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col: 6,\r\n        inline: true,\r\n        inputtype: CssUnitInput\r\n    }, {\r\n        name: \"Max Height\",\r\n        key: \"max-height\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col: 6,\r\n        inline: true,\r\n        inputtype: CssUnitInput\r\n    }]\r\n});\r\n\r\n//Margin\r\nVvveb.Components.extend(\"_base\", \"_base\", {\r\n    properties: [{\r\n        key: \"margins_header\",\r\n        inputtype: SectionInput,\r\n        name: false,\r\n        sort: base_sort++,\r\n        data: { header: \"Margin\", expanded: false },\r\n    }, {\r\n        name: \"Top\",\r\n        key: \"margin-top\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col: 6,\r\n        inline: true,\r\n        inputtype: CssUnitInput\r\n    }, {\r\n        name: \"Right\",\r\n        key: \"margin-right\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col: 6,\r\n        inline: true,\r\n        inputtype: CssUnitInput\r\n    }, {\r\n        name: \"Bottom\",\r\n        key: \"margin-bottom\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col: 6,\r\n        inline: true,\r\n        inputtype: CssUnitInput\r\n    }, {\r\n        name: \"Left\",\r\n        key: \"margin-Left\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col: 6,\r\n        inline: true,\r\n        inputtype: CssUnitInput\r\n    }]\r\n});\r\n\r\n//Padding\r\nVvveb.Components.extend(\"_base\", \"_base\", {\r\n    properties: [{\r\n        key: \"paddings_header\",\r\n        inputtype: SectionInput,\r\n        name: false,\r\n        sort: base_sort++,\r\n        data: { header: \"Padding\", expanded: false },\r\n    }, {\r\n        name: \"Top\",\r\n        key: \"padding-top\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col: 6,\r\n        inline: true,\r\n        inputtype: CssUnitInput\r\n    }, {\r\n        name: \"Right\",\r\n        key: \"padding-right\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col: 6,\r\n        inline: true,\r\n        inputtype: CssUnitInput\r\n    }, {\r\n        name: \"Bottom\",\r\n        key: \"padding-bottom\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col: 6,\r\n        inline: true,\r\n        inputtype: CssUnitInput\r\n    }, {\r\n        name: \"Left\",\r\n        key: \"padding-Left\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col: 6,\r\n        inline: true,\r\n        inputtype: CssUnitInput\r\n    }]\r\n});\r\n\r\n\r\n//Border\r\nVvveb.Components.extend(\"_base\", \"_base\", {\r\n    properties: [{\r\n        key: \"border_header\",\r\n        inputtype: SectionInput,\r\n        name: false,\r\n        sort: base_sort++,\r\n        data: { header: \"Border\", expanded: false },\r\n    }, {\r\n        name: \"Style\",\r\n        key: \"border-style\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col: 12,\r\n        inline: true,\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"solid\",\r\n                text: \"Solid\"\r\n            }, {\r\n                value: \"dotted\",\r\n                text: \"Dotted\"\r\n            }, {\r\n                value: \"dashed\",\r\n                text: \"Dashed\"\r\n            }],\r\n        }\r\n    }, {\r\n        name: \"Width\",\r\n        key: \"border-width\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col: 6,\r\n        inline: true,\r\n        inputtype: CssUnitInput\r\n    }, {\r\n        name: \"Color\",\r\n        key: \"border-color\",\r\n        sort: base_sort++,\r\n        col: 6,\r\n        inline: true,\r\n        htmlAttr: \"style\",\r\n        inputtype: ColorInput,\r\n    }]\r\n});\r\n\r\nVvveb.Components.extend(\"_base\", \"html/div\", {\r\n    classes: [\"container\", \"container-fluid\"],\r\n    image: \"icons/div.svg\",\r\n    html: '<div style=\"width: 350px; height: 200px;\" class=\"dropzone\"></div>',\r\n    name: \"Div\",\r\n    properties: [\r\n        {\r\n            name: \"Type\",\r\n            key: \"type\",\r\n            htmlAttr: \"class\",\r\n            inputtype: SelectInput,\r\n            validValues: [\"container\", \"container-fluid\"],\r\n            data: {\r\n                options: [{\r\n                    value: \"container\",\r\n                    text: \"Default\"\r\n                }, {\r\n                    value: \"container-fluid\",\r\n                    text: \"Fluid\"\r\n                }]\r\n            }\r\n        },\r\n        {\r\n            name: \"Background\",\r\n            key: \"background\",\r\n            htmlAttr: \"class\",\r\n            validValues: bgcolorClasses,\r\n            inputtype: SelectInput,\r\n            data: {\r\n                options: bgcolorSelectOptions\r\n            }\r\n        },\r\n        {\r\n            name: \"Background Color\",\r\n            key: \"background-color\",\r\n            htmlAttr: \"style\",\r\n            inputtype: ColorInput,\r\n        },\r\n        {\r\n            name: \"Text Color\",\r\n            key: \"color\",\r\n            htmlAttr: \"style\",\r\n            inputtype: ColorInput,\r\n        }],\r\n});\r\n\r\nVvveb.Components.extend(\"_base\", \"html/container\", {\r\n    classes: [\"container\", \"container-fluid\"],\r\n    image: \"icons/container.svg\",\r\n    html: '<div class=\"container dropzone\"><div class=\"m-5\">Container</div></div>',\r\n    name: \"Container\",\r\n    properties: [\r\n        {\r\n            name: \"Type\",\r\n            key: \"type\",\r\n            htmlAttr: \"class\",\r\n            inputtype: SelectInput,\r\n            validValues: [\"container\", \"container-fluid\"],\r\n            data: {\r\n                options: [{\r\n                    value: \"container\",\r\n                    text: \"Default\"\r\n                }, {\r\n                    value: \"container-fluid\",\r\n                    text: \"Fluid\"\r\n                }]\r\n            }\r\n        },\r\n        {\r\n            name: \"Background\",\r\n            key: \"background\",\r\n            htmlAttr: \"class\",\r\n            validValues: bgcolorClasses,\r\n            inputtype: SelectInput,\r\n            data: {\r\n                options: bgcolorSelectOptions\r\n            }\r\n        },\r\n        {\r\n            name: \"Background Color\",\r\n            key: \"background-color\",\r\n            htmlAttr: \"style\",\r\n            inputtype: ColorInput,\r\n        },\r\n        {\r\n            name: \"Text Color\",\r\n            key: \"color\",\r\n            htmlAttr: \"style\",\r\n            inputtype: ColorInput,\r\n        }],\r\n});\r\n\r\nVvveb.Components.extend(\"_base\", \"html/heading\", {\r\n    image: \"icons/heading.svg\",\r\n    name: \"Heading\",\r\n    nodes: [\"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\"],\r\n    html: \"<h1>Heading</h1>\",\r\n\r\n    properties: [\r\n        {\r\n            name: \"Size\",\r\n            key: \"id\",\r\n            htmlAttr: \"id\",\r\n            inputtype: SelectInput,\r\n\r\n            onChange: function (node, value) {\r\n\r\n                return changeNodeName(node, \"h\" + value);\r\n            },\r\n\r\n            init: function (node) {\r\n                var regex;\r\n                regex = /H(\\d)/.exec(node.nodeName);\r\n                if (regex && regex[1]) {\r\n                    return regex[1]\r\n                }\r\n                return 1\r\n            },\r\n\r\n            data: {\r\n                options: [{\r\n                    value: \"1\",\r\n                    text: \"1\"\r\n                }, {\r\n                    value: \"2\",\r\n                    text: \"2\"\r\n                }, {\r\n                    value: \"3\",\r\n                    text: \"3\"\r\n                }, {\r\n                    value: \"4\",\r\n                    text: \"4\"\r\n                }, {\r\n                    value: \"5\",\r\n                    text: \"5\"\r\n                }, {\r\n                    value: \"6\",\r\n                    text: \"6\"\r\n                }]\r\n            },\r\n        }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/link\", {\r\n    nodes: [\"a\"],\r\n    name: \"Link\",\r\n    properties: [{\r\n        name: \"Url\",\r\n        key: \"href\",\r\n        htmlAttr: \"href\",\r\n        inputtype: LinkInput\r\n    }, {\r\n        name: \"Target\",\r\n        key: \"target\",\r\n        htmlAttr: \"target\",\r\n        inputtype: TextInput\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/image\", {\r\n    nodes: [\"img\"],\r\n    name: \"Image\",\r\n    html: '<img src=\"' + Vvveb.baseUrl + 'icons/image.svg\" height=\"128\" width=\"128\">',\r\n    /*\r\n    afterDrop: function (node)\r\n\t{\r\n\t\tnode.attr(\"src\", '');\r\n\t\treturn node;\r\n\t},*/\r\n    image: \"icons/image.svg\",\r\n    properties: [{\r\n        name: \"Image\",\r\n        key: \"src\",\r\n        htmlAttr: \"src\",\r\n        inputtype: FileUploadInput\r\n    }, {\r\n        name: \"Width\",\r\n        key: \"width\",\r\n        htmlAttr: \"width\",\r\n        inputtype: TextInput\r\n    }, {\r\n        name: \"Height\",\r\n        key: \"height\",\r\n        htmlAttr: \"height\",\r\n        inputtype: TextInput\r\n    }, {\r\n        name: \"Alt\",\r\n        key: \"alt\",\r\n        htmlAttr: \"alt\",\r\n        inputtype: TextInput\r\n    }]\r\n});\r\nVvveb.Components.add(\"html/hr\", {\r\n    image: \"icons/hr.svg\",\r\n    nodes: [\"hr\"],\r\n    name: \"Horizontal Rule\",\r\n    html: \"<hr>\"\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/label\", {\r\n    name: \"Label\",\r\n    nodes: [\"label\"],\r\n    html: '<label for=\"\">Label</label>',\r\n    properties: [{\r\n        name: \"For id\",\r\n        htmlAttr: \"for\",\r\n        key: \"for\",\r\n        inputtype: TextInput\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/button\", {\r\n    classes: [\"btn\", \"btn-link\"],\r\n    name: \"Button\",\r\n    image: \"icons/button.svg\",\r\n    html: '<button type=\"button\" class=\"btn btn-primary\">Primary</button>',\r\n    properties: [{\r\n        name: \"Link To\",\r\n        key: \"href\",\r\n        htmlAttr: \"href\",\r\n        inputtype: LinkInput\r\n    }, {\r\n        name: \"Type\",\r\n        key: \"type\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"btn-default\", \"btn-primary\", \"btn-info\", \"btn-success\", \"btn-warning\", \"btn-info\", \"btn-light\", \"btn-dark\", \"btn-outline-primary\", \"btn-outline-info\", \"btn-outline-success\", \"btn-outline-warning\", \"btn-outline-info\", \"btn-outline-light\", \"btn-outline-dark\", \"btn-link\"],\r\n        data: {\r\n            options: [{\r\n                value: \"btn-default\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"btn-primary\",\r\n                text: \"Primary\"\r\n            }, {\r\n                value: \"btn btn-info\",\r\n                text: \"Info\"\r\n            }, {\r\n                value: \"btn-success\",\r\n                text: \"Success\"\r\n            }, {\r\n                value: \"btn-warning\",\r\n                text: \"Warning\"\r\n            }, {\r\n                value: \"btn-info\",\r\n                text: \"Info\"\r\n            }, {\r\n                value: \"btn-light\",\r\n                text: \"Light\"\r\n            }, {\r\n                value: \"btn-dark\",\r\n                text: \"Dark\"\r\n            }, {\r\n                value: \"btn-outline-primary\",\r\n                text: \"Primary outline\"\r\n            }, {\r\n                value: \"btn btn-outline-info\",\r\n                text: \"Info outline\"\r\n            }, {\r\n                value: \"btn-outline-success\",\r\n                text: \"Success outline\"\r\n            }, {\r\n                value: \"btn-outline-warning\",\r\n                text: \"Warning outline\"\r\n            }, {\r\n                value: \"btn-outline-info\",\r\n                text: \"Info outline\"\r\n            }, {\r\n                value: \"btn-outline-light\",\r\n                text: \"Light outline\"\r\n            }, {\r\n                value: \"btn-outline-dark\",\r\n                text: \"Dark outline\"\r\n            }, {\r\n                value: \"btn-link\",\r\n                text: \"Link\"\r\n            }]\r\n        }\r\n    }, {\r\n        name: \"Size\",\r\n        key: \"size\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"btn-lg\", \"btn-sm\"],\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"btn-lg\",\r\n                text: \"Large\"\r\n            }, {\r\n                value: \"btn-sm\",\r\n                text: \"Small\"\r\n            }]\r\n        }\r\n    }, {\r\n        name: \"Target\",\r\n        key: \"target\",\r\n        htmlAttr: \"target\",\r\n        inputtype: TextInput\r\n    }, {\r\n        name: \"Disabled\",\r\n        key: \"disabled\",\r\n        htmlAttr: \"class\",\r\n        inputtype: ToggleInput,\r\n        validValues: [\"disabled\"],\r\n        data: {\r\n            on: \"disabled\",\r\n            off: \"\"\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/buttongroup\", {\r\n    classes: [\"btn-group\"],\r\n    name: \"Button Group\",\r\n    image: \"icons/button_group.svg\",\r\n    html: '<div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"><button type=\"button\" class=\"btn btn-secondary\">Left</button><button type=\"button\" class=\"btn btn-secondary\">Middle</button> <button type=\"button\" class=\"btn btn-secondary\">Right</button></div>',\r\n    properties: [{\r\n        name: \"Size\",\r\n        key: \"size\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"btn-group-lg\", \"btn-group-sm\"],\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"btn-group-lg\",\r\n                text: \"Large\"\r\n            }, {\r\n                value: \"btn-group-sm\",\r\n                text: \"Small\"\r\n            }]\r\n        }\r\n    }, {\r\n        name: \"Alignment\",\r\n        key: \"alignment\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"btn-group\", \"btn-group-vertical\"],\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"btn-group\",\r\n                text: \"Horizontal\"\r\n            }, {\r\n                value: \"btn-group-vertical\",\r\n                text: \"Vertical\"\r\n            }]\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/buttontoolbar\", {\r\n    classes: [\"btn-toolbar\"],\r\n    name: \"Button Toolbar\",\r\n    image: \"icons/button_toolbar.svg\",\r\n    html: '<div class=\"btn-toolbar\" role=\"toolbar\" aria-label=\"Toolbar with button groups\">\\\r\n\t\t  <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"First group\">\\\r\n\t\t\t<button type=\"button\" class=\"btn btn-secondary\">1</button>\\\r\n\t\t\t<button type=\"button\" class=\"btn btn-secondary\">2</button>\\\r\n\t\t\t<button type=\"button\" class=\"btn btn-secondary\">3</button>\\\r\n\t\t\t<button type=\"button\" class=\"btn btn-secondary\">4</button>\\\r\n\t\t  </div>\\\r\n\t\t  <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Second group\">\\\r\n\t\t\t<button type=\"button\" class=\"btn btn-secondary\">5</button>\\\r\n\t\t\t<button type=\"button\" class=\"btn btn-secondary\">6</button>\\\r\n\t\t\t<button type=\"button\" class=\"btn btn-secondary\">7</button>\\\r\n\t\t  </div>\\\r\n\t\t  <div class=\"btn-group\" role=\"group\" aria-label=\"Third group\">\\\r\n\t\t\t<button type=\"button\" class=\"btn btn-secondary\">8</button>\\\r\n\t\t  </div>\\\r\n\t\t</div>'\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/alert\", {\r\n    classes: [\"alert\"],\r\n    name: \"Alert\",\r\n    image: \"icons/alert.svg\",\r\n    html: '<div class=\"alert alert-warning alert-dismissible fade show\" role=\"alert\">\\\r\n\t\t  <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\\\r\n\t\t\t<span aria-hidden=\"true\">&times;</span>\\\r\n\t\t  </button>\\\r\n\t\t  <strong>Holy guacamole!</strong> You should check in on some of those fields below.\\\r\n\t\t</div>',\r\n    properties: [{\r\n        name: \"Type\",\r\n        key: \"type\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"alert-primary\", \"alert-secondary\", \"alert-success\", \"alert-danger\", \"alert-warning\", \"alert-info\", \"alert-light\", \"alert-dark\"],\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: [{\r\n                value: \"alert-primary\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"alert-secondary\",\r\n                text: \"Secondary\"\r\n            }, {\r\n                value: \"alert-success\",\r\n                text: \"Success\"\r\n            }, {\r\n                value: \"alert-danger\",\r\n                text: \"Danger\"\r\n            }, {\r\n                value: \"alert-warning\",\r\n                text: \"Warning\"\r\n            }, {\r\n                value: \"alert-info\",\r\n                text: \"Info\"\r\n            }, {\r\n                value: \"alert-light\",\r\n                text: \"Light\"\r\n            }, {\r\n                value: \"alert-dark\",\r\n                text: \"Dark\"\r\n            }]\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/badge\", {\r\n    classes: [\"badge\"],\r\n    image: \"icons/badge.svg\",\r\n    name: \"Badge\",\r\n    html: '<span class=\"badge badge-primary\">Primary badge</span>',\r\n    properties: [{\r\n        name: \"Color\",\r\n        key: \"color\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"badge-primary\", \"badge-secondary\", \"badge-success\", \"badge-danger\", \"badge-warning\", \"badge-info\", \"badge-light\", \"badge-dark\"],\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"badge-primary\",\r\n                text: \"Primary\"\r\n            }, {\r\n                value: \"badge-secondary\",\r\n                text: \"Secondary\"\r\n            }, {\r\n                value: \"badge-success\",\r\n                text: \"Success\"\r\n            }, {\r\n                value: \"badge-warning\",\r\n                text: \"Warning\"\r\n            }, {\r\n                value: \"badge-danger\",\r\n                text: \"Danger\"\r\n            }, {\r\n                value: \"badge-info\",\r\n                text: \"Info\"\r\n            }, {\r\n                value: \"badge-light\",\r\n                text: \"Light\"\r\n            }, {\r\n                value: \"badge-dark\",\r\n                text: \"Dark\"\r\n            }]\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/card\", {\r\n    classes: [\"card\"],\r\n    image: \"icons/panel.svg\",\r\n    name: \"Card\",\r\n    html: '<div class=\"card\">\\\r\n\t\t  <img class=\"card-img-top\" src=\"../libs/builder/icons/image.svg\" alt=\"Card image cap\" width=\"128\" height=\"128\">\\\r\n\t\t  <div class=\"card-body\">\\\r\n\t\t\t<h4 class=\"card-title\">Card title</h4>\\\r\n\t\t\t<p class=\"card-text\">Some quick example text to build on the card title and make up the bulk of the card\\'s content.</p>\\\r\n\t\t\t<a href=\"#\" class=\"btn btn-primary\">Go somewhere</a>\\\r\n\t\t  </div>\\\r\n\t\t</div>'\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/listgroup\", {\r\n    name: \"List Group\",\r\n    image: \"icons/list_group.svg\",\r\n    classes: [\"list-group\"],\r\n    html: '<ul class=\"list-group\">\\n  <li class=\"list-group-item\">\\n    <span class=\"badge\">14</span>\\n    Cras justo odio\\n  </li>\\n  <li class=\"list-group-item\">\\n    <span class=\"badge\">2</span>\\n    Dapibus ac facilisis in\\n  </li>\\n  <li class=\"list-group-item\">\\n    <span class=\"badge\">1</span>\\n    Morbi leo risus\\n  </li>\\n</ul>'\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/listitem\", {\r\n    name: \"List Item\",\r\n    classes: [\"list-group-item\"],\r\n    html: '<li class=\"list-group-item\"><span class=\"badge\">14</span> Cras justo odio</li>'\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/breadcrumbs\", {\r\n    classes: [\"breadcrumb\"],\r\n    name: \"Breadcrumbs\",\r\n    image: \"icons/breadcrumbs.svg\",\r\n    html: '<ol class=\"breadcrumb\">\\\r\n\t\t  <li class=\"breadcrumb-item active\"><a href=\"#\">Home</a></li>\\\r\n\t\t  <li class=\"breadcrumb-item active\"><a href=\"#\">Library</a></li>\\\r\n\t\t  <li class=\"breadcrumb-item active\">Data 3</li>\\\r\n\t\t</ol>'\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/breadcrumbitem\", {\r\n    classes: [\"breadcrumb-item\"],\r\n    name: \"Breadcrumb Item\",\r\n    html: '<li class=\"breadcrumb-item\"><a href=\"#\">Library</a></li>',\r\n    properties: [{\r\n        name: \"Active\",\r\n        key: \"active\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"\", \"active\"],\r\n        inputtype: ToggleInput,\r\n        data: {\r\n            on: \"active\",\r\n            off: \"\"\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/pagination\", {\r\n    classes: [\"pagination\"],\r\n    name: \"Pagination\",\r\n    image: \"icons/pagination.svg\",\r\n    html: '<nav aria-label=\"Page navigation example\">\\\r\n\t  <ul class=\"pagination\">\\\r\n\t\t<li class=\"page-item\"><a class=\"page-link\" href=\"#\">Previous</a></li>\\\r\n\t\t<li class=\"page-item\"><a class=\"page-link\" href=\"#\">1</a></li>\\\r\n\t\t<li class=\"page-item\"><a class=\"page-link\" href=\"#\">2</a></li>\\\r\n\t\t<li class=\"page-item\"><a class=\"page-link\" href=\"#\">3</a></li>\\\r\n\t\t<li class=\"page-item\"><a class=\"page-link\" href=\"#\">Next</a></li>\\\r\n\t  </ul>\\\r\n\t</nav>',\r\n\r\n    properties: [{\r\n        name: \"Size\",\r\n        key: \"size\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"btn-lg\", \"btn-sm\"],\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"btn-lg\",\r\n                text: \"Large\"\r\n            }, {\r\n                value: \"btn-sm\",\r\n                text: \"Small\"\r\n            }]\r\n        }\r\n    }, {\r\n        name: \"Alignment\",\r\n        key: \"alignment\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"justify-content-center\", \"justify-content-end\"],\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"justify-content-center\",\r\n                text: \"Center\"\r\n            }, {\r\n                value: \"justify-content-end\",\r\n                text: \"Right\"\r\n            }]\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/pageitem\", {\r\n    classes: [\"page-item\"],\r\n    html: '<li class=\"page-item\"><a class=\"page-link\" href=\"#\">1</a></li>',\r\n    name: \"Pagination Item\",\r\n    properties: [{\r\n        name: \"Link To\",\r\n        key: \"href\",\r\n        htmlAttr: \"href\",\r\n        child: \".page-link\",\r\n        inputtype: TextInput\r\n    }, {\r\n        name: \"Disabled\",\r\n        key: \"disabled\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"disabled\"],\r\n        inputtype: ToggleInput,\r\n        data: {\r\n            on: \"disabled\",\r\n            off: \"\"\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/progress\", {\r\n    classes: [\"progress\"],\r\n    name: \"Progress Bar\",\r\n    image: \"icons/progressbar.svg\",\r\n    html: '<div class=\"progress\"><div class=\"progress-bar w-25\"></div></div>',\r\n    properties: [{\r\n        name: \"Background\",\r\n        key: \"background\",\r\n        htmlAttr: \"class\",\r\n        validValues: bgcolorClasses,\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: bgcolorSelectOptions\r\n        }\r\n    },\r\n    {\r\n        name: \"Progress\",\r\n        key: \"background\",\r\n        child: \".progress-bar\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"\", \"w-25\", \"w-50\", \"w-75\", \"w-100\"],\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"None\"\r\n            }, {\r\n                value: \"w-25\",\r\n                text: \"25%\"\r\n            }, {\r\n                value: \"w-50\",\r\n                text: \"50%\"\r\n            }, {\r\n                value: \"w-75\",\r\n                text: \"75%\"\r\n            }, {\r\n                value: \"w-100\",\r\n                text: \"100%\"\r\n            }]\r\n        }\r\n    },\r\n    {\r\n        name: \"Progress background\",\r\n        key: \"background\",\r\n        child: \".progress-bar\",\r\n        htmlAttr: \"class\",\r\n        validValues: bgcolorClasses,\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: bgcolorSelectOptions\r\n        }\r\n    }, {\r\n        name: \"Striped\",\r\n        key: \"striped\",\r\n        child: \".progress-bar\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"\", \"progress-bar-striped\"],\r\n        inputtype: ToggleInput,\r\n        data: {\r\n            on: \"progress-bar-striped\",\r\n            off: \"\",\r\n        }\r\n    }, {\r\n        name: \"Animated\",\r\n        key: \"animated\",\r\n        child: \".progress-bar\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"\", \"progress-bar-animated\"],\r\n        inputtype: ToggleInput,\r\n        data: {\r\n            on: \"progress-bar-animated\",\r\n            off: \"\",\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/jumbotron\", {\r\n    classes: [\"jumbotron\"],\r\n    image: \"icons/jumbotron.svg\",\r\n    name: \"Jumbotron\",\r\n    html: '<div class=\"jumbotron\">\\\r\n\t\t  <h1 class=\"display-3\">Hello, world!</h1>\\\r\n\t\t  <p class=\"lead\">This is a simple hero unit, a simple jumbotron-style component for calling extra attention to featured content or information.</p>\\\r\n\t\t  <hr class=\"my-4\">\\\r\n\t\t  <p>It uses utility classes for typography and spacing to space content out within the larger container.</p>\\\r\n\t\t  <p class=\"lead\">\\\r\n\t\t\t<a class=\"btn btn-primary btn-lg\" href=\"#\" role=\"button\">Learn more</a>\\\r\n\t\t  </p>\\\r\n\t\t</div>'\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/navbar\", {\r\n    classes: [\"navbar\"],\r\n    image: \"icons/navbar.svg\",\r\n    name: \"Nav Bar\",\r\n    html: '<nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\\\r\n\t\t  <a class=\"navbar-brand\" href=\"#\">Navbar</a>\\\r\n\t\t  <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\\\r\n\t\t\t<span class=\"navbar-toggler-icon\"></span>\\\r\n\t\t  </button>\\\r\n\t\t\\\r\n\t\t  <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\\\r\n\t\t\t<ul class=\"navbar-nav mr-auto\">\\\r\n\t\t\t  <li class=\"nav-item active\">\\\r\n\t\t\t\t<a class=\"nav-link\" href=\"#\">Home <span class=\"sr-only\">(current)</span></a>\\\r\n\t\t\t  </li>\\\r\n\t\t\t  <li class=\"nav-item\">\\\r\n\t\t\t\t<a class=\"nav-link\" href=\"#\">Link</a>\\\r\n\t\t\t  </li>\\\r\n\t\t\t  <li class=\"nav-item\">\\\r\n\t\t\t\t<a class=\"nav-link disabled\" href=\"#\">Disabled</a>\\\r\n\t\t\t  </li>\\\r\n\t\t\t</ul>\\\r\n\t\t\t<form class=\"form-inline my-2 my-lg-0\">\\\r\n\t\t\t  <input class=\"form-control mr-sm-2\" type=\"text\" placeholder=\"Search\" aria-label=\"Search\">\\\r\n\t\t\t  <button class=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\">Search</button>\\\r\n\t\t\t</form>\\\r\n\t\t  </div>\\\r\n\t\t</nav>',\r\n\r\n    properties: [{\r\n        name: \"Color theme\",\r\n        key: \"color\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"navbar-light\", \"navbar-dark\"],\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"navbar-light\",\r\n                text: \"Light\"\r\n            }, {\r\n                value: \"navbar-dark\",\r\n                text: \"Dark\"\r\n            }]\r\n        }\r\n    }, {\r\n        name: \"Background color\",\r\n        key: \"background\",\r\n        htmlAttr: \"class\",\r\n        validValues: bgcolorClasses,\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: bgcolorSelectOptions\r\n        }\r\n    }, {\r\n        name: \"Placement\",\r\n        key: \"placement\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"fixed-top\", \"fixed-bottom\", \"sticky-top\"],\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"fixed-top\",\r\n                text: \"Fixed Top\"\r\n            }, {\r\n                value: \"fixed-bottom\",\r\n                text: \"Fixed Bottom\"\r\n            }, {\r\n                value: \"sticky-top\",\r\n                text: \"Sticky top\"\r\n            }]\r\n        }\r\n    }]\r\n});\r\n\r\nVvveb.Components.extend(\"_base\", \"html/form\", {\r\n    nodes: [\"form\"],\r\n    image: \"icons/form.svg\",\r\n    name: \"Form\",\r\n    html: '<form class=\"dropzone\"></form>',\r\n    properties: [{\r\n        name: \"Style\",\r\n        key: \"style\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"\", \"form-search\", \"form-inline\", \"form-horizontal\"],\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"form-search\",\r\n                text: \"Search\"\r\n            }, {\r\n                value: \"form-inline\",\r\n                text: \"Inline\"\r\n            }, {\r\n                value: \"form-horizontal\",\r\n                text: \"Horizontal\"\r\n            }]\r\n        }\r\n    }, {\r\n        name: \"Action\",\r\n        key: \"action\",\r\n        htmlAttr: \"action\",\r\n        inputtype: TextInput\r\n    }, {\r\n        name: \"Method\",\r\n        key: \"method\",\r\n        htmlAttr: \"method\",\r\n        inputtype: TextInput\r\n    }]\r\n});\r\n\r\nVvveb.Components.extend(\"_base\", \"html/textinput\", {\r\n    name: \"Text Input\",\r\n    attributes: { \"type\": \"text\" },\r\n    image: \"icons/text_input.svg\",\r\n    html: '<div class=\"form-group\" style=\"display: inline-block;\"><label>Text</label><input type=\"text\" class=\"form-control\"></div></div>',\r\n    properties: [{\r\n        name: \"Value\",\r\n        key: \"value\",\r\n        htmlAttr: \"value\",\r\n        inputtype: TextInput\r\n    }, {\r\n        name: \"Placeholder\",\r\n        key: \"placeholder\",\r\n        htmlAttr: \"placeholder\",\r\n        inputtype: TextInput\r\n    }]\r\n});\r\n\r\nVvveb.Components.extend(\"_base\", \"html/selectinput\", {\r\n    nodes: [\"select\"],\r\n    name: \"Select Input\",\r\n    image: \"icons/select_input.svg\",\r\n    html: '<div class=\"form-group\" style=\"display: inline-block;\"><label>Choose an option </label><select class=\"form-control\"><option value=\"value1\">Text 1</option><option value=\"value2\">Text 2</option><option value=\"value3\">Text 3</option></select></div>',\r\n\r\n    beforeInit: function (node) {\r\n        properties = [];\r\n        var i = 0;\r\n\r\n        $(node).find('option').each(function () {\r\n\r\n            data = { \"value\": this.value, \"text\": this.text };\r\n\r\n            i++;\r\n            properties.push({\r\n                name: \"Option \" + i,\r\n                key: \"option\" + i,\r\n                //index: i - 1,\r\n                optionNode: this,\r\n                inputtype: TextValueInput,\r\n                data: data,\r\n                onChange: function (node, value, input) {\r\n\r\n                    option = $(this.optionNode);\r\n\r\n                    //if remove button is clicked remove option and render row properties\r\n                    if (input.nodeName == 'BUTTON') {\r\n                        option.remove();\r\n                        Vvveb.Components.render(\"html/selectinput\");\r\n                        return node;\r\n                    }\r\n\r\n                    if (input.name == \"value\") option.attr(\"value\", value);\r\n                    else if (input.name == \"text\") option.text(value);\r\n\r\n                    return node;\r\n                },\r\n            });\r\n        });\r\n\r\n        //remove all option properties\r\n        this.properties = this.properties.filter(function (item) {\r\n            return item.key.indexOf(\"option\") === -1;\r\n        });\r\n\r\n        //add remaining properties to generated column properties\r\n        properties.push(this.properties[0]);\r\n\r\n        this.properties = properties;\r\n        return node;\r\n    },\r\n\r\n    properties: [{\r\n        name: \"Option\",\r\n        key: \"option1\",\r\n        inputtype: TextValueInput\r\n    }, {\r\n        name: \"Option\",\r\n        key: \"option2\",\r\n        inputtype: TextValueInput\r\n    }, {\r\n        name: \"\",\r\n        key: \"addChild\",\r\n        inputtype: ButtonInput,\r\n        data: { text: \"Add option\" },\r\n        onChange: function (node) {\r\n            $(node).append('<option value=\"value\">Text</option>');\r\n\r\n            //render component properties again to include the new column inputs\r\n            Vvveb.Components.render(\"html/selectinput\");\r\n\r\n            return node;\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/textareainput\", {\r\n    name: \"Text Area\",\r\n    image: \"icons/text_area.svg\",\r\n    html: '<div class=\"form-group\"><label>Your response:</label><textarea class=\"form-control\"></textarea></div>'\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/radiobutton\", {\r\n    name: \"Radio Button\",\r\n    attributes: { \"type\": \"radio\" },\r\n    image: \"icons/radio.svg\",\r\n    html: '<label class=\"radio\"><input type=\"radio\"> Radio</label>',\r\n    properties: [{\r\n        name: \"Name\",\r\n        key: \"name\",\r\n        htmlAttr: \"name\",\r\n        inputtype: TextInput\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/checkbox\", {\r\n    name: \"Checkbox\",\r\n    attributes: { \"type\": \"checkbox\" },\r\n    image: \"icons/checkbox.svg\",\r\n    html: '<label class=\"checkbox\"><input type=\"checkbox\"> Checkbox</label>',\r\n    properties: [{\r\n        name: \"Name\",\r\n        key: \"name\",\r\n        htmlAttr: \"name\",\r\n        inputtype: TextInput\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/fileinput\", {\r\n    name: \"Input group\",\r\n    attributes: { \"type\": \"file\" },\r\n    image: \"icons/text_input.svg\",\r\n    html: '<div class=\"form-group\">\\\r\n\t\t\t  <input type=\"file\" class=\"form-control\">\\\r\n\t\t\t</div>'\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/table\", {\r\n    nodes: [\"table\"],\r\n    classes: [\"table\"],\r\n    image: \"icons/table.svg\",\r\n    name: \"Table\",\r\n    html: '<table class=\"table\">\\\r\n\t\t  <thead>\\\r\n\t\t\t<tr>\\\r\n\t\t\t  <th>#</th>\\\r\n\t\t\t  <th>First Name</th>\\\r\n\t\t\t  <th>Last Name</th>\\\r\n\t\t\t  <th>Username</th>\\\r\n\t\t\t</tr>\\\r\n\t\t  </thead>\\\r\n\t\t  <tbody>\\\r\n\t\t\t<tr>\\\r\n\t\t\t  <th scope=\"row\">1</th>\\\r\n\t\t\t  <td>Mark</td>\\\r\n\t\t\t  <td>Otto</td>\\\r\n\t\t\t  <td>@mdo</td>\\\r\n\t\t\t</tr>\\\r\n\t\t\t<tr>\\\r\n\t\t\t  <th scope=\"row\">2</th>\\\r\n\t\t\t  <td>Jacob</td>\\\r\n\t\t\t  <td>Thornton</td>\\\r\n\t\t\t  <td>@fat</td>\\\r\n\t\t\t</tr>\\\r\n\t\t\t<tr>\\\r\n\t\t\t  <th scope=\"row\">3</th>\\\r\n\t\t\t  <td>Larry</td>\\\r\n\t\t\t  <td>the Bird</td>\\\r\n\t\t\t  <td>@twitter</td>\\\r\n\t\t\t</tr>\\\r\n\t\t  </tbody>\\\r\n\t\t</table>',\r\n    properties: [\r\n        {\r\n            name: \"Type\",\r\n            key: \"type\",\r\n            htmlAttr: \"class\",\r\n            validValues: [\"table-primary\", \"table-secondary\", \"table-success\", \"table-danger\", \"table-warning\", \"table-info\", \"table-light\", \"table-dark\", \"table-white\"],\r\n            inputtype: SelectInput,\r\n            data: {\r\n                options: [{\r\n                    value: \"Default\",\r\n                    text: \"\"\r\n                }, {\r\n                    value: \"table-primary\",\r\n                    text: \"Primary\"\r\n                }, {\r\n                    value: \"table-secondary\",\r\n                    text: \"Secondary\"\r\n                }, {\r\n                    value: \"table-success\",\r\n                    text: \"Success\"\r\n                }, {\r\n                    value: \"table-danger\",\r\n                    text: \"Danger\"\r\n                }, {\r\n                    value: \"table-warning\",\r\n                    text: \"Warning\"\r\n                }, {\r\n                    value: \"table-info\",\r\n                    text: \"Info\"\r\n                }, {\r\n                    value: \"table-light\",\r\n                    text: \"Light\"\r\n                }, {\r\n                    value: \"table-dark\",\r\n                    text: \"Dark\"\r\n                }, {\r\n                    value: \"table-white\",\r\n                    text: \"White\"\r\n                }]\r\n            }\r\n        },\r\n        {\r\n            name: \"Responsive\",\r\n            key: \"responsive\",\r\n            htmlAttr: \"class\",\r\n            validValues: [\"table-responsive\"],\r\n            inputtype: ToggleInput,\r\n            data: {\r\n                on: \"table-responsive\",\r\n                off: \"\"\r\n            }\r\n        },\r\n        {\r\n            name: \"Small\",\r\n            key: \"small\",\r\n            htmlAttr: \"class\",\r\n            validValues: [\"table-sm\"],\r\n            inputtype: ToggleInput,\r\n            data: {\r\n                on: \"table-sm\",\r\n                off: \"\"\r\n            }\r\n        },\r\n        {\r\n            name: \"Hover\",\r\n            key: \"hover\",\r\n            htmlAttr: \"class\",\r\n            validValues: [\"table-hover\"],\r\n            inputtype: ToggleInput,\r\n            data: {\r\n                on: \"table-hover\",\r\n                off: \"\"\r\n            }\r\n        },\r\n        {\r\n            name: \"Bordered\",\r\n            key: \"bordered\",\r\n            htmlAttr: \"class\",\r\n            validValues: [\"table-bordered\"],\r\n            inputtype: ToggleInput,\r\n            data: {\r\n                on: \"table-bordered\",\r\n                off: \"\"\r\n            }\r\n        },\r\n        {\r\n            name: \"Striped\",\r\n            key: \"striped\",\r\n            htmlAttr: \"class\",\r\n            validValues: [\"table-striped\"],\r\n            inputtype: ToggleInput,\r\n            data: {\r\n                on: \"table-striped\",\r\n                off: \"\"\r\n            }\r\n        },\r\n        {\r\n            name: \"Inverse\",\r\n            key: \"inverse\",\r\n            htmlAttr: \"class\",\r\n            validValues: [\"table-inverse\"],\r\n            inputtype: ToggleInput,\r\n            data: {\r\n                on: \"table-inverse\",\r\n                off: \"\"\r\n            }\r\n        },\r\n        {\r\n            name: \"Head options\",\r\n            key: \"head\",\r\n            htmlAttr: \"class\",\r\n            child: \"thead\",\r\n            inputtype: SelectInput,\r\n            validValues: [\"\", \"thead-inverse\", \"thead-default\"],\r\n            data: {\r\n                options: [{\r\n                    value: \"\",\r\n                    text: \"None\"\r\n                }, {\r\n                    value: \"thead-default\",\r\n                    text: \"Default\"\r\n                }, {\r\n                    value: \"thead-inverse\",\r\n                    text: \"Inverse\"\r\n                }]\r\n            }\r\n        }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/tablerow\", {\r\n    nodes: [\"tr\"],\r\n    name: \"Table Row\",\r\n    html: \"<tr><td>Cell 1</td><td>Cell 2</td><td>Cell 3</td></tr>\",\r\n    properties: [{\r\n        name: \"Type\",\r\n        key: \"type\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"\", \"success\", \"danger\", \"warning\", \"active\"],\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"success\",\r\n                text: \"Success\"\r\n            }, {\r\n                value: \"error\",\r\n                text: \"Error\"\r\n            }, {\r\n                value: \"warning\",\r\n                text: \"Warning\"\r\n            }, {\r\n                value: \"active\",\r\n                text: \"Active\"\r\n            }]\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/tablecell\", {\r\n    nodes: [\"td\"],\r\n    name: \"Table Cell\",\r\n    html: \"<td>Cell</td>\"\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/tableheadercell\", {\r\n    nodes: [\"th\"],\r\n    name: \"Table Header Cell\",\r\n    html: \"<th>Head</th>\"\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/tablehead\", {\r\n    nodes: [\"thead\"],\r\n    name: \"Table Head\",\r\n    html: \"<thead><tr><th>Head 1</th><th>Head 2</th><th>Head 3</th></tr></thead>\",\r\n    properties: [{\r\n        name: \"Type\",\r\n        key: \"type\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"\", \"success\", \"danger\", \"warning\", \"info\"],\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"success\",\r\n                text: \"Success\"\r\n            }, {\r\n                value: \"anger\",\r\n                text: \"Error\"\r\n            }, {\r\n                value: \"warning\",\r\n                text: \"Warning\"\r\n            }, {\r\n                value: \"info\",\r\n                text: \"Info\"\r\n            }]\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/tablebody\", {\r\n    nodes: [\"tbody\"],\r\n    name: \"Table Body\",\r\n    html: \"<tbody><tr><td>Cell 1</td><td>Cell 2</td><td>Cell 3</td></tr></tbody>\"\r\n});\r\n\r\nVvveb.Components.add(\"html/gridcolumn\", {\r\n    name: \"Grid Column\",\r\n    image: \"icons/grid_row.svg\",\r\n    classesRegex: [\"col-\"],\r\n    html: '<div class=\"col-sm-4\"><h3>col-sm-4</h3></div>',\r\n    properties: [{\r\n        name: \"Column\",\r\n        key: \"column\",\r\n        inputtype: GridInput,\r\n        data: { hide_remove: true },\r\n\r\n        beforeInit: function (node) {\r\n            _class = $(node).attr(\"class\");\r\n\r\n            var reg = /col-([^-\\$ ]*)?-?(\\d+)/g;\r\n            var match;\r\n\r\n            while ((match = reg.exec(_class)) != null) {\r\n                this.data[\"col\" + ((match[1] != undefined) ? \"_\" + match[1] : \"\")] = match[2];\r\n            }\r\n        },\r\n\r\n        onChange: function (node, value, input) {\r\n            _class = node.attr(\"class\");\r\n\r\n            //remove previous breakpoint column size\r\n            _class = _class.replace(new RegExp(input.name + '-\\\\d+?'), '');\r\n            //add new column size\r\n            if (value) _class += ' ' + input.name + '-' + value;\r\n            node.attr(\"class\", _class);\r\n\r\n            return node;\r\n        },\r\n    }]\r\n});\r\nVvveb.Components.add(\"html/gridrow\", {\r\n    name: \"Grid Row\",\r\n    image: \"icons/grid_row.svg\",\r\n    classes: [\"row\"],\r\n    html: '<div class=\"row\"><div class=\"col-sm-4\"><h3>col-sm-4</h3></div><div class=\"col-sm-4 col-5\"><h3>col-sm-4</h3></div><div class=\"col-sm-4\"><h3>col-sm-4</h3></div></div>',\r\n\r\n    beforeInit: function (node) {\r\n        properties = [];\r\n        var i = 0;\r\n        var j = 0;\r\n\r\n        $(node).find('[class*=\"col-\"]').each(function () {\r\n            _class = $(this).attr(\"class\");\r\n\r\n            var reg = /col-([^-\\$ ]*)?-?(\\d+)/g;\r\n            var match;\r\n            data = {};\r\n\r\n            while ((match = reg.exec(_class)) != null) {\r\n                data[\"col\" + ((match[1] != undefined) ? \"_\" + match[1] : \"\")] = match[2];\r\n            }\r\n\r\n            i++;\r\n            properties.push({\r\n                name: \"Column \" + i,\r\n                key: \"column\" + i,\r\n                //index: i - 1,\r\n                columnNode: this,\r\n                inline: true,\r\n                inputtype: GridInput,\r\n                data: data,\r\n                onChange: function (node, value, input) {\r\n\r\n                    //column = $('[class*=\"col-\"]:eq(' + this.index + ')', node);\r\n                    column = $(this.columnNode);\r\n\r\n                    //if remove button is clicked remove column and render row properties\r\n                    if (input.nodeName == 'BUTTON') {\r\n                        column.remove();\r\n                        Vvveb.Components.render(\"html/gridrow\");\r\n                        return node;\r\n                    }\r\n\r\n                    //if select input then change column class\r\n                    _class = column.attr(\"class\");\r\n\r\n                    //remove previous breakpoint column size\r\n                    _class = _class.replace(new RegExp(input.name + '-\\\\d+?'), '');\r\n                    //add new column size\r\n                    if (value) _class += ' ' + input.name + '-' + value;\r\n                    column.attr(\"class\", _class);\r\n\r\n                    return node;\r\n                },\r\n            });\r\n        });\r\n\r\n        //remove all column properties\r\n        this.properties = this.properties.filter(function (item) {\r\n            return item.key.indexOf(\"column\") === -1;\r\n        });\r\n\r\n        //add remaining properties to generated column properties\r\n        properties.push(this.properties[0]);\r\n\r\n        this.properties = properties;\r\n        return node;\r\n    },\r\n\r\n    properties: [{\r\n        name: \"Column\",\r\n        key: \"column1\",\r\n        inputtype: GridInput\r\n    }, {\r\n        name: \"Column\",\r\n        key: \"column1\",\r\n        inline: true,\r\n        col: 12,\r\n        inputtype: GridInput\r\n    }, {\r\n        name: \"\",\r\n        key: \"addChild\",\r\n        inputtype: ButtonInput,\r\n        data: { text: \"Add column\" },\r\n        onChange: function (node) {\r\n            $(node).append('<div class=\"col-3\">Col-3</div>');\r\n\r\n            //render component properties again to include the new column inputs\r\n            Vvveb.Components.render(\"html/gridrow\");\r\n\r\n            return node;\r\n        }\r\n    }]\r\n});\r\n\r\n(function () {\r\n    $(document).ready(() => {\r\n        $('#menu-panel .navbar-nav a').on('click', function () {\r\n            if (!$(this).hasClass('active')) {\r\n                $(this).addClass('active');\r\n                $(this).siblings().removeClass('active');\r\n                $('#left-panel').toggle();\r\n                $('#right-panel').toggle();\r\n            }\r\n        });\r\n\r\n        let isElementCreated = false;\r\n        let $element;\r\n        const draggableElements = '#components-list li ol li';\r\n\r\n        document.querySelector('iframe').onload = function (event) {\r\n            window.interact = frames[0].interact;\r\n            setInteractables();\r\n        };\r\n\r\n        const setInteractables = () => {\r\n            interact(draggableElements, { context: document })\r\n                .draggable({\r\n                    // enable inertial throwing\r\n                    inertia: true,\r\n                    // keep the element within the area of it's parent\r\n                    restrict: {\r\n                        restriction: document.getElementById('iframeId').contentWindow.document.body,\r\n                        endOnly: true,\r\n                        elementRect: { top: 0, left: 0, bottom: 1, right: 1 }\r\n                    },\r\n                    // enable autoScroll\r\n                    autoScroll: true,\r\n\r\n                    // call this function on every dragmove event\r\n                    onmove: event => {\r\n                        if (!isElementCreated) {\r\n                            const component = Vvveb.Components.get($(event.target).data(\"type\"));\r\n                            const html = component.dragHtml || component.html;\r\n\r\n                            $element = $(html).appendTo($('body'));\r\n                            const display = $element.css('display');\r\n                            if (display == 'inline-block') {\r\n                                $element.css({\r\n                                    position: 'absolute',\r\n                                    left: event.pageX - $element.outerWidth() / 2,\r\n                                    top: event.pageY - $element.outerHeight() / 2,\r\n                                    'z-index': 999\r\n                                });\r\n                            } else {\r\n                                $element.css({\r\n                                    position: 'absolute',\r\n                                    left: event.pageX - 20,\r\n                                    top: event.pageY - 20,\r\n                                    'z-index': 999\r\n                                });\r\n                            }\r\n\r\n                            isElementCreated = true;\r\n                        }\r\n\r\n                        const x = (parseFloat($element.attr('data-x')) || 0) + event.dx,\r\n                            y = (parseFloat($element.attr('data-y')) || 0) + event.dy;\r\n\r\n                        $element\r\n                            .css({\r\n                                transform: `translate(${x}px, ${y}px)`\r\n                            })\r\n                            .attr({\r\n                                'data-x': x,\r\n                                'data-y': y\r\n                            });\r\n                    },\r\n                    // call this function on every dragend event\r\n                    onend: event => {\r\n                        const left = $element.offset().left - $('#iframeId').offset().left,\r\n                            top = $element.offset().top - $('#iframeId').offset().top;\r\n                        $element\r\n                            .css({\r\n                                left,\r\n                                top,\r\n                                transform: ''\r\n                            }).removeAttr('data-x data-y');\r\n\r\n                        isElementCreated = false;\r\n                        // \r\n                        // html\r\n                        self.frameBody.append($element.prop(\"outerHTML\"));\r\n                        // self.dragElement && self.dragElement.replaceWith($element.prop(\"outerHTML\"));\r\n                        $element.remove();\r\n                    }\r\n                });\r\n        };\r\n    });\r\n})();"]}